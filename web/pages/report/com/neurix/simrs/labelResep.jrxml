<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="noAntrian" language="groovy" pageWidth="242" pageHeight="153" orientation="Landscape" columnWidth="226" leftMargin="8" rightMargin="8" topMargin="8" bottomMargin="8" uuid="c8b1d6ef-d35b-49bd-aeda-6dc40c738ef5">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="ireport.callouts" value="##Tue Mar 03 19:41:31 ICT 2020"/>
	<style name="header"/>
	<style name="body"/>
	<parameter name="reportParams.id" class="java.lang.String"/>
	<parameter name="reportParams.logo" class="java.lang.String"/>
	<parameter name="reportParams.area" class="java.lang.String"/>
	<parameter name="reportParams.unit" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT
a.id_approval_obat,
a.id_detail_checkup,
a.id_pasien,
e.nama,
TO_CHAR(e.tgl_lahir, 'dd-mm-yyyy') as tanggal_lahir,
b.id_obat,
c.nama_obat,
TO_CHAR(c.expired_date, 'dd-mm-yyyy') as expired_date,
CAST('red' AS VARCHAR) as head,
CAST('yellow' AS VARCHAR) as body,
CAST('oral' AS VARCHAR) as jenis,
CAST('kapsul' AS VARCHAR) as bentuk
FROM mt_simrs_permintaan_resep a
INNER JOIN mt_simrs_transaksi_obat_detail b ON a.id_approval_obat = b.id_approval_obat
INNER JOIN (
SELECT
id_obat,
nama_obat,
expired_date
FROM im_simrs_obat
GROUP BY id_obat, nama_obat, expired_date
) c ON b.id_obat = c.id_obat
LEFT JOIN (
SELECT id_transaksi_obat_detail
FROM mt_simrs_transaksi_obat_detail_batch
GROUP BY id_transaksi_obat_detail
) d ON b.id_transaksi_obat_detail = d.id_transaksi_obat_detail
INNER JOIN im_simrs_pasien e ON a.id_pasien = e.id_pasien
WHERE a.id_permintaan_resep = $P{reportParams.id}]]>
	</queryString>
	<field name="id_approval_obat" class="java.lang.String"/>
	<field name="id_detail_checkup" class="java.lang.String"/>
	<field name="id_pasien" class="java.lang.String"/>
	<field name="nama" class="java.lang.String"/>
	<field name="tanggal_lahir" class="java.lang.String"/>
	<field name="id_obat" class="java.lang.String"/>
	<field name="nama_obat" class="java.lang.String"/>
	<field name="expired_date" class="java.lang.String"/>
	<field name="head" class="java.lang.String"/>
	<field name="body" class="java.lang.String"/>
	<field name="jenis" class="java.lang.String"/>
	<field name="bentuk" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="137">
			<textField isBlankWhenNull="true">
				<reportElement x="4" y="32" width="100" height="13" uuid="90bd0d7b-cabb-4b95-85cb-19dc2d3513c4"/>
				<textElement verticalAlignment="Top">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{reportParams.area}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="4" y="41" width="100" height="15" uuid="d41feb15-80f9-4067-8ea5-b6e91d675bf8"/>
				<textElement verticalAlignment="Top">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{reportParams.unit}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="57" width="73" height="15" uuid="d332685f-d871-4870-a699-01202b8375d8"/>
				<box leftPadding="5"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[No RM]]></text>
			</staticText>
			<staticText>
				<reportElement x="73" y="57" width="4" height="15" uuid="2c275c94-61ed-40e2-8aa4-9d9effdc2c17"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="72" width="73" height="15" uuid="2b38af66-ad8b-4d1c-9c42-790786807de7"/>
				<box leftPadding="5"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Nama Pasien]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="77" y="57" width="149" height="15" uuid="603ad83b-c591-49f9-8acf-6e169b8e997d"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{id_pasien} == null ? "" : $F{id_pasien} ]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="4" y="3" width="74" height="30" uuid="c75068f8-214c-46d3-8f38-db5f4a96eab6"/>
				<imageExpression><![CDATA[$P{reportParams.logo}]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="100" y="0" width="126" height="15" uuid="86b38a2e-4de1-4beb-900b-78b67a427a44"/>
				<box leftPadding="0">
					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="73" y="72" width="4" height="15" uuid="2192a250-7131-4c02-be70-a74128497457"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="73" y="87" width="4" height="15" uuid="6c9b41cf-0178-4c2a-ae3f-7c01aa8cb742"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="77" y="72" width="149" height="15" uuid="44da39e6-7703-4edb-a695-e498cfb82706"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nama} == null ? "" : $F{nama}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="77" y="87" width="149" height="15" uuid="7e748b3c-9b93-404b-a632-282a0682774c"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tanggal_lahir} == null ? "" : $F{tanggal_lahir}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="105" width="73" height="15" uuid="a5a1cffe-0112-44e3-a977-e2f012b8a8c1"/>
				<box leftPadding="5"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Nama Obat]]></text>
			</staticText>
			<staticText>
				<reportElement x="73" y="105" width="4" height="15" uuid="744073b7-ebb4-4029-b89f-ae8742c711a4"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="77" y="105" width="149" height="15" uuid="d044b6d5-dfac-447b-90f1-ccd4922bcaed"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nama_obat} == null ? "" : $F{nama_obat}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="120" width="73" height="15" uuid="ffd50a3f-d8ac-49dc-a6b0-8aa79c0ef5ca"/>
				<box leftPadding="5"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Expired Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="73" y="120" width="4" height="15" uuid="4e6e59fe-9730-4e61-8411-ea61a5bb25ac"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="77" y="120" width="149" height="15" uuid="4c9ad7f8-8974-4629-87eb-91c1b061cad3"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{expired_date} == null ? "" : $F{expired_date}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="180" y="15" width="46" height="15" uuid="5532b01d-5db3-4c3f-b744-c03c61293d2b"/>
				<box leftPadding="0">
					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="57" width="226" height="45" uuid="3bd79bfd-0800-49e0-8349-d98fc7eae008"/>
				<box leftPadding="0">
					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="102" width="226" height="33" uuid="b35c3710-fe76-47de-ab31-433db3e20f05"/>
				<box leftPadding="0">
					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="180" y="15" width="46" height="15" uuid="47bb89c6-3913-405b-baa9-2376152118c3"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{bentuk} == null ? "" : $F{bentuk}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="100" y="0" width="126" height="15" uuid="ce6d34b9-fe69-4b8a-8432-f515c911f0ad"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{jenis} == null ? "" : $F{jenis}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="226" height="135" backcolor="#CCFFFF" uuid="0be68bd9-ed07-4054-92ab-8fffc8bfdadc"/>
				<box leftPadding="0">
					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy HH.mm.ss">
				<reportElement x="151" y="43" width="75" height="13" uuid="2aad2f7b-8d5e-4da7-a23e-3e3eb4b136e4"/>
				<textElement>
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="87" width="73" height="15" uuid="6903106a-d688-4ea2-9007-b7b4c480f4bb"/>
				<box leftPadding="5"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Tanggal Lahir]]></text>
			</staticText>
		</band>
	</detail>
</jasperReport>
