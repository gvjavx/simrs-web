ALTER TABLE it_simrs_hemodialisa
ADD COLUMN is_ttd character varying(1);

-- 14-07-2020
CREATE TABLE public.im_simrs_rekam_medis_pasien
(
  id_rekam_medis_pasien character varying(30) NOT NULL,
  kode_rm character varying(100),
  nama_rm text,
  keterangan character varying(1000),
  jenis character varying(1000),
  parameter character varying(1000),
  function character varying(1000),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  jumlah_kategori character varying(100),
  CONSTRAINT pk_id_rekam_medis_pasien PRIMARY KEY (id_rekam_medis_pasien)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.im_simrs_rekam_medis_pasien
  OWNER TO postgres;

CREATE TABLE public.im_simrs_rekam_medis_pelayanan
(
  id_rekam_medis_pelayanan character varying(30) NOT NULL,
  id_rekam_medis_pasien character varying(30),
  tipe_pelayanan character varying(1000),
  urutan character varying(1000),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_rekam_medis_pelayanan PRIMARY KEY (id_rekam_medis_pelayanan)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.im_simrs_rekam_medis_pelayanan
  OWNER TO postgres;

-- 16-07-2020
CREATE TABLE public.it_simrs_status_pengisian_rekam_medis
(
  id_status_pengisian_rekam_medis character varying(30) NOT NULL,
  no_checkup character varying(30),
  id_detail_checkup character varying(30),
  id_pasien character varying(30),
  id_rekam_medis_pasien character varying(100),
  is_pengisian character varying(1),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  jumlah_kategori character varying(100),
  CONSTRAINT pk_id_status_pengisian_rekam_medis PRIMARY KEY (id_status_pengisian_rekam_medis)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_status_pengisian_rekam_medis
  OWNER TO postgres;


CREATE SEQUENCE public.seq_status_pengisiain_rm
  INCREMENT 1
  MINVALUE 1
  MAXVALUE 9223372036854775807
  START 1
  CACHE 1;
ALTER TABLE public.seq_status_pengisiain_rm
  OWNER TO postgres;

-- 17-07-2020
ALTER TABLE it_simrs_dokter_team
ADD COLUMN id_pelayanan character varying(100);

-- 20-07-2020
ALTER TABLE it_simrs_periksa_lab
ADD COLUMN keterangan character varying(100);

CREATE TABLE public.it_simrs_order_periksa_lab
(
  id_order_periksa character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  id_lab character varying(30),
  id_lab_detail character varying(30),
  is_pemeriksaan character varying(1),
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  created_who character varying(100),
  last_update timestamp without time zone,
  last_update_who character varying(100),
  keterangan character varying(100),
  CONSTRAINT pk_id_order_periksa PRIMARY KEY (id_order_periksa)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_order_periksa_lab
  OWNER TO postgres;

CREATE SEQUENCE seq_order_periksa_lab;

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN no_checkup_ulang character varying(100);

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN is_order_lab character varying(100);

ALTER TABLE it_simrs_checkup_alergi
ADD COLUMN jenis character varying(100),
ADD COLUMN id_pasien character varying(100);

ALTER TABLE it_simrs_diagnosa_rawat
ALTER COLUMN jenis_diagnosa TYPE character varying(100);


-- 27-07-2020
ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN flag_close_traksaksi character varying(1),
ADD COLUMN tindak_lanjut text,
ADD COLUMN catatan text;

-- 29-07-2020
ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN rs_rujukan character varying (200);

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN flag_tppri character varying(1);

-- Membuat Function
Pendaftaran Rawat Inap
/rawatinap/initTppri_rawatinap.action
/rawatinap/initTppri_rawatinap.action
/rawatinap/searchTppri_rawatinap.action

Rawat Intensif
/rawatintensif/initForm_rawatintensif.action
/rawatintensif/initForm_rawatintensif.action
/rawatintensif/searchIntensif_rawatintensif.action
/rawatintensif/add_rawatintensif.action

Rawat Isolasi
/rawatisolasi/initForm_rawatisolasi.action
/rawatisolasi/initForm_rawatisolasi.action
/rawatisolasi/searchIsolasi_rawatisolasi.action
/rawatisolasi/add_rawatisolasi.action

Rawat Operasi
/rawatoperasi/initForm_rawatoperasi.action
/rawatoperasi/initForm_rawatoperasi.action
/rawatoperasi/searchOperasi_rawatoperasi.action
/rawatoperasi/add_rawatoperasi.action

Rawat Bersalin
/rawatbersalin/initForm_rawatbersalin.action
/rawatbersalin/initForm_rawatbersalin.action
/rawatbersalin/searchBersalin_rawatbersalin.action
/rawatbersalin/add_rawatbersalin.action

-- 30-07-2020
ALTER TABLE im_simrs_kelas_ruangan
ADD COLUMN kategori character varying (100);

ALTER TABLE it_simrs_dokter_team
ADD COLUMN jenis_dpjp character varying (100);

ALTER TABLE it_simrs_rawat_inap
ADD COLUMN status character varying(1);

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN is_stay character varying(1);


-- 10-08-2020
CREATE TABLE public.it_simrs_asesmen_keperawatan_rawat_jalan
(
  id_keperawatan_rawat_jalan character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  parameter text,
  jawaban text,
  keterangan character varying(1000),
  jenis character varying(1000),
  score integer,
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  tipe character varying(100),
  CONSTRAINT pk_id_keperawatan_rawat_jalan PRIMARY KEY (id_keperawatan_rawat_jalan)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_asesmen_keperawatan_rawat_jalan
  OWNER TO postgres;

CREATE SEQUENCE seq_keperawatan_rawat_jalan;

ALTER TABLE it_simrs_header_checkup
RENAME anamnese TO autoanamnesis;

ALTER TABLE it_simrs_header_checkup
ADD COLUMN heteroanamnesis text;

-- 11-08-2020
ALTER TABLE it_simrs_asesmen_keperawatan_rawat_jalan
ADD COLUMN nama_terang text;

-- 12-08-2020
ALTER TABLE im_simrs_dokter
ADD COLUMN sip character varying (100);

-- 14-08-2020
ALTER TABLE it_simrs_asesmen_poli_spesialis
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

ALTER TABLE it_simrs_hemodialisa
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

ALTER TABLE it_simrs_catatan_terintegrasi
RENAME COLUMN jenis TO subjective;

ALTER TABLE it_simrs_catatan_terintegrasi
ALTER subjective TYPE text;

ALTER TABLE it_simrs_catatan_terintegrasi
ADD COLUMN nadi VARCHAR(100),
ADD COLUMN suhu VARCHAR(100),
ADD COLUMN rr VARCHAR(100),
ADD COLUMN tensi VARCHAR(100),
ADD COLUMN objective text,
ADD COLUMN assesment text,
ADD COLUMN planning text,
ADD COLUMN nama_dokter VARCHAR(100),
ADD COLUMN nama_petugas VARCHAR(100),
ADD COLUMN sip_dokter VARCHAR(100),
ADD COLUMN sip_petugas VARCHAR(100);

-- 15-08-2020
CREATE TABLE public.it_simrs_observasi_tindakan_hd
(
  id_observasi_tindakan_hd character varying(30) NOT NULL,
  id_detail_checkup character varying(100),
  waktu character varying(100),
  observasi character varying(100),
  qb character varying(100),
  tensi character varying(100),
  nadi character varying(100),
  suhu character varying(100),
  rr character varying(100),
  cairan_masuk character varying(100),
  makan_minum character varying(100),
  muntah character varying(100),
  uf character varying(100),
  jenis character varying(100),
  keterangan character varying(100),
  ttd character varying(100),
  nama_terang character varying(100),
  sip character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_observasi_tindakan_hd PRIMARY KEY (id_observasi_tindakan_hd)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_observasi_tindakan_hd
  OWNER TO postgres;

CREATE SEQUENCE seq_observasi_hd;

-- 16-08-2020
ALTER TABLE it_simrs_asesmen_ugd
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

-- 17-08-2020
ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN flag_cover VARCHAR(1);

-- 19-08-2020
ALTER TABLE it_simrs_asesmen_keperawatan_rawat_inap
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

-- 20-08-2020
ALTER TABLE it_simrs_rencana_asuhan_keperawatan
ADD COLUMN nama_terang character varying(100);

ALTER TABLE it_simrs_catatan_pemberian_obat
ADD COLUMN nama_terang_dokter character varying(100),
ADD COLUMN sip_dokter character varying(100),
ADD COLUMN nama_terang_perawat character varying(100);

ALTER TABLE it_simrs_asesmen_operasi
ADD COLUMN nama_terang character varying(100),
ADD COLUMN sip character varying(100);

-- 21-08-2020
ALTER TABLE it_simrs_asesmen_icu
ADD COLUMN nama_terang character varying(100),
ADD COLUMN sip character varying(100);

ALTER TABLE it_simrs_rencana_asuhan_keperawatan
ADD COLUMN nama_dokter character varying(100),
ADD COLUMN sip character varying(100);

ALTER TABLE it_simrs_rencana_asuhan_keperawatan
ADD COLUMN ttd_dokter VARCHAR(100);

ALTER TABLE it_simrs_asesmen_kandungan
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

-- 23-08-2020
-- tambah function
Verif Umum
    Rawat Jalan
    /verifumumrj/initVerif_verifumumrj.action
    /verifumumrj/initVerif_verifumumrj.action
    /verifumumrj/searchVerif_verifumumrj.action

    Rawat Inap
    /verifumumri/initVerif_verifumumri.action
    /verifumumri/initVerif_verifumumri.action
    /verifumumri/searchVerif_verifumumrji.action

Verif Asuransi
    Rawat Jalan
    /verifasrj/initVerif_verifasrj.action
    /verifasrj/initVerif_verifasrj.action
    /verifasrj/searchVerifAs_verifasrj.action

    Rawat Inap
    /verifasri/initVerif_verifasri.action
    /verifasri/initVerif_verifasri.action
    /verifasri/searchVerifAs_verifasri.action

=====================================================================================================
-- EXECUTE DARI SINI --
-- 26-08-2020
CREATE TABLE public.it_simrs_partograf
(
  id_partograf character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  waktu character varying(100),
  djj character varying(100),
  air_ketuban character varying(100),
  molase character varying(100),
  pembukaan character varying(100),
  kontraksi character varying(100),
  oksitosin character varying(100),
  tetes character varying(100),
  obat_cairan character varying(100),
  nadi character varying(100),
  tensi character varying(100),
  suhu character varying(100),
  rr character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  nama_terang character varying(100),
  sip character varying(100),
  ttd character varying(100),
  CONSTRAINT pk_id_partograf PRIMARY KEY (id_partograf)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_partograf
  OWNER TO postgres;

CREATE SEQUENCE seq_partograf;

-- 30-08-2020
ALTER TABLE it_simrs_tindakan_rawat
ADD COLUMN id_pelayanan VARCHAR(100);

ALTER TABLE it_simrs_periksa_lab
ADD COLUMN url_img VARCHAR(100);

-- 31-08-2020
ALTER TABLE it_simrs_asesmen_keperawatan_rawat_jalan
ADD COLUMN sip VARCHAR(100);

-- 01-09-2020
ALTER TABLE it_simrs_fisioterapi
ADD COLUMN skor VARCHAR (100),
ADD COLUMN tipe VARCHAR (100);

ALTER TABLE it_simrs_ringkasan_pasien
ADD COLUMN tipe VARCHAR (100),
ADD COLUMN nama_terang VARCHAR (100),
ADD COLUMN sip VARCHAR (100);

-- 03-09-2020
ALTER TABLE it_simrs_detail_icu
ADD COLUMN id_detail_checkup VARCHAR(50);

-- 05-09-2020
CREATE TABLE public.it_simrs_implementasi_perawat
(
  id_implementasi_perawat character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  waktu character varying(100),
  keterangan text,
  ttd character varying(100),
  nama_terang character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_implementasi_perawat PRIMARY KEY (id_implementasi_perawat)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_implementasi_perawat
  OWNER TO postgres;

CREATE SEQUENCE seq_implementasi_perawat;

-- 08-09-2020
ALTER TABLE it_simrs_edukasi_pasien_teritegrasi
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100),
ADD COLUMN nama_staf VARCHAR(100);


-- 09-09-2020
-- insert to table pelayanan
INSERT INTO im_simrs_pelayanan VALUES
('PYN00000033',
'Ruang Bersalin',
'Y',
'C',
now(),
'migrasi',
now(),
'migrasi',
null,
null,
'ruang_bersalin',
'RS01',
null,
null,
null),
('PYN00000034',
'ICU',
'Y',
'C',
now(),
'migrasi',
now(),
'migrasi',
null,
null,
'rawat_intensif',
'RS01',
null,
null,
null),
('PYN00000035',
'Kamar Operasi',
'Y',
'C',
now(),
'migrasi',
now(),
'migrasi',
null,
null,
'kamar_operasi',
'RS01',
null,
null,
null);

-- insert to table kategori tindakan
INSERT INTO im_simrs_kategori_tindakan VALUES
('KAT00000041',
'Kamar Operasi',
'Y',
now(),
'migrasi',
now(),
'migrasi',
'C');

--insert to kategori tindakan pelayanan
INSERT INTO im_simrs_kategori_tindakan_pelayanan VALUES
('KTP00000037',
'KAT00000027',
'PYN00000031',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now()),
('KTP00000038',
'KAT00000026',
'PYN00000032',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now()),
('KTP00000039',
'KAT00000002',
'PYN00000033',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now()),
('KTP00000040',
'KAT00000003',
'PYN00000034',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now()),
('KTP00000041',
'KAT00000041',
'PYN00000035',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now());

ALTER TABLE im_simrs_kategori_lab
ADD COLUMN kategori VARCHAR(100);

UPDATE im_simrs_kategori_lab
SET nama_kategori = 'Radiologi',
kategori = 'radiologi'
WHERE id_kategori_lab = 'KAL00000001';

UPDATE im_simrs_kategori_lab
SET nama_kategori = 'Laboratorium',
kategori = 'lab'
WHERE id_kategori_lab = 'KAL00000002';











