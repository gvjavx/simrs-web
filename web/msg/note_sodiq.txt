ALTER TABLE it_simrs_hemodialisa
ADD COLUMN is_ttd character varying(1);

-- 16-07-2020
CREATE TABLE public.it_simrs_status_pengisian_rekam_medis
(
  id_status_pengisian_rekam_medis character varying(30) NOT NULL,
  no_checkup character varying(30),
  id_detail_checkup character varying(30),
  id_pasien character varying(30),
  id_rekam_medis_pasien character varying(100),
  is_pengisian character varying(1),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  jumlah_kategori character varying(100),
  CONSTRAINT pk_id_status_pengisian_rekam_medis PRIMARY KEY (id_status_pengisian_rekam_medis)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_status_pengisian_rekam_medis
  OWNER TO postgres;


CREATE SEQUENCE public.seq_status_pengisiain_rm
  INCREMENT 1
  MINVALUE 1
  MAXVALUE 9223372036854775807
  START 1
  CACHE 1;
ALTER TABLE public.seq_status_pengisiain_rm
  OWNER TO postgres;

-- 17-07-2020
ALTER TABLE it_simrs_dokter_team
ADD COLUMN id_pelayanan character varying(100);

-- 20-07-2020
ALTER TABLE it_simrs_periksa_lab
ADD COLUMN keterangan character varying(100);

CREATE TABLE public.it_simrs_order_periksa_lab
(
  id_order_periksa character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  id_lab character varying(30),
  id_lab_detail character varying(30),
  is_pemeriksaan character varying(1),
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  created_who character varying(100),
  last_update timestamp without time zone,
  last_update_who character varying(100),
  keterangan character varying(100),
  CONSTRAINT pk_id_order_periksa PRIMARY KEY (id_order_periksa)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_order_periksa_lab
  OWNER TO postgres;

CREATE SEQUENCE seq_order_periksa_lab;

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN no_checkup_ulang character varying(100);

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN is_order_lab character varying(100);

ALTER TABLE it_simrs_checkup_alergi
ADD COLUMN jenis character varying(100),
ADD COLUMN id_pasien character varying(100);

ALTER TABLE it_simrs_diagnosa_rawat
ALTER COLUMN jenis_diagnosa TYPE character varying(100);

-- 27-07-2020
ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN flag_close_traksaksi character varying(1),
ADD COLUMN tindak_lanjut text,
ADD COLUMN catatan text;

-- 29-07-2020
ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN rs_rujukan character varying (200);

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN flag_tppri character varying(1);

-- 30-07-2020
ALTER TABLE im_simrs_kelas_ruangan
ADD COLUMN kategori character varying (100);

ALTER TABLE it_simrs_dokter_team
ADD COLUMN jenis_dpjp character varying (100);

ALTER TABLE it_simrs_rawat_inap
ADD COLUMN status character varying(1);

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN is_stay character varying(1);

-- 10-08-2020
CREATE TABLE public.it_simrs_asesmen_keperawatan_rawat_jalan
(
  id_keperawatan_rawat_jalan character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  parameter text,
  jawaban text,
  keterangan character varying(1000),
  jenis character varying(1000),
  score integer,
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  tipe character varying(100),
  CONSTRAINT pk_id_keperawatan_rawat_jalan PRIMARY KEY (id_keperawatan_rawat_jalan)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_asesmen_keperawatan_rawat_jalan
  OWNER TO postgres;

CREATE SEQUENCE seq_keperawatan_rawat_jalan;

ALTER TABLE it_simrs_header_checkup
RENAME anamnese TO autoanamnesis;

ALTER TABLE it_simrs_header_checkup
ADD COLUMN heteroanamnesis text;

-- 11-08-2020
ALTER TABLE it_simrs_asesmen_keperawatan_rawat_jalan
ADD COLUMN nama_terang text;

-- 12-08-2020
ALTER TABLE im_simrs_dokter
ADD COLUMN sip character varying (100);

-- 14-08-2020
ALTER TABLE it_simrs_asesmen_poli_spesialis
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

ALTER TABLE it_simrs_hemodialisa
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

ALTER TABLE it_simrs_catatan_terintegrasi
RENAME COLUMN jenis TO subjective;

ALTER TABLE it_simrs_catatan_terintegrasi
ALTER subjective TYPE text;

ALTER TABLE it_simrs_catatan_terintegrasi
ADD COLUMN nadi VARCHAR(100),
ADD COLUMN suhu VARCHAR(100),
ADD COLUMN rr VARCHAR(100),
ADD COLUMN tensi VARCHAR(100),
ADD COLUMN objective text,
ADD COLUMN assesment text,
ADD COLUMN planning text,
ADD COLUMN nama_dokter VARCHAR(100),
ADD COLUMN nama_petugas VARCHAR(100),
ADD COLUMN sip_dokter VARCHAR(100),
ADD COLUMN sip_petugas VARCHAR(100);

-- 15-08-2020
CREATE TABLE public.it_simrs_observasi_tindakan_hd
(
  id_observasi_tindakan_hd character varying(30) NOT NULL,
  id_detail_checkup character varying(100),
  waktu character varying(100),
  observasi character varying(100),
  qb character varying(100),
  tensi character varying(100),
  nadi character varying(100),
  suhu character varying(100),
  rr character varying(100),
  cairan_masuk character varying(100),
  makan_minum character varying(100),
  muntah character varying(100),
  uf character varying(100),
  jenis character varying(100),
  keterangan character varying(100),
  ttd character varying(100),
  nama_terang character varying(100),
  sip character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_observasi_tindakan_hd PRIMARY KEY (id_observasi_tindakan_hd)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_observasi_tindakan_hd
  OWNER TO postgres;

CREATE SEQUENCE seq_observasi_hd;

-- 16-08-2020
ALTER TABLE it_simrs_asesmen_ugd
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

-- 17-08-2020
ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN flag_cover VARCHAR(1);

-- 19-08-2020
ALTER TABLE it_simrs_asesmen_keperawatan_rawat_inap
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

-- 20-08-2020
ALTER TABLE it_simrs_rencana_asuhan_keperawatan
ADD COLUMN nama_terang character varying(100);

ALTER TABLE it_simrs_catatan_pemberian_obat
ADD COLUMN nama_terang_dokter character varying(100),
ADD COLUMN sip_dokter character varying(100),
ADD COLUMN nama_terang_perawat character varying(100);

ALTER TABLE it_simrs_asesmen_operasi
ADD COLUMN nama_terang character varying(100),
ADD COLUMN sip character varying(100);

-- 21-08-2020
ALTER TABLE it_simrs_asesmen_icu
ADD COLUMN nama_terang character varying(100),
ADD COLUMN sip character varying(100);

ALTER TABLE it_simrs_rencana_asuhan_keperawatan
ADD COLUMN nama_dokter character varying(100),
ADD COLUMN sip character varying(100);

ALTER TABLE it_simrs_rencana_asuhan_keperawatan
ADD COLUMN ttd_dokter VARCHAR(100);

ALTER TABLE it_simrs_asesmen_kandungan
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

-- 26-08-2020
CREATE TABLE public.it_simrs_partograf
(
  id_partograf character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  waktu character varying(100),
  djj character varying(100),
  air_ketuban character varying(100),
  molase character varying(100),
  pembukaan character varying(100),
  kontraksi character varying(100),
  oksitosin character varying(100),
  tetes character varying(100),
  obat_cairan character varying(100),
  nadi character varying(100),
  tensi character varying(100),
  suhu character varying(100),
  rr character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  nama_terang character varying(100),
  sip character varying(100),
  ttd character varying(100),
  CONSTRAINT pk_id_partograf PRIMARY KEY (id_partograf)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_partograf
  OWNER TO postgres;

CREATE SEQUENCE seq_partograf;

-- 30-08-2020
ALTER TABLE it_simrs_tindakan_rawat
ADD COLUMN id_pelayanan VARCHAR(100);

ALTER TABLE it_simrs_periksa_lab
ADD COLUMN url_img VARCHAR(100);

-- 31-08-2020
ALTER TABLE it_simrs_asesmen_keperawatan_rawat_jalan
ADD COLUMN sip VARCHAR(100);

-- 01-09-2020
ALTER TABLE it_simrs_fisioterapi
ADD COLUMN skor VARCHAR (100),
ADD COLUMN tipe VARCHAR (100);

ALTER TABLE it_simrs_ringkasan_pasien
ADD COLUMN tipe VARCHAR (100),
ADD COLUMN nama_terang VARCHAR (100),
ADD COLUMN sip VARCHAR (100);

-- 03-09-2020
ALTER TABLE it_simrs_detail_icu
ADD COLUMN id_detail_checkup VARCHAR(50);

-- 05-09-2020
CREATE TABLE public.it_simrs_implementasi_perawat
(
  id_implementasi_perawat character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  waktu character varying(100),
  keterangan text,
  ttd character varying(100),
  nama_terang character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_implementasi_perawat PRIMARY KEY (id_implementasi_perawat)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_implementasi_perawat
  OWNER TO postgres;

CREATE SEQUENCE seq_implementasi_perawat;

-- 08-09-2020
ALTER TABLE it_simrs_edukasi_pasien_teritegrasi
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100),
ADD COLUMN nama_staf VARCHAR(100);

-- 09-09-2020
-- insert to table pelayanan
INSERT INTO im_simrs_pelayanan VALUES
('PYN00000033',
'Ruang Bersalin',
'Y',
'C',
now(),
'migrasi',
now(),
'migrasi',
null,
null,
'ruang_bersalin',
'RS01',
null,
null,
null),
('PYN00000034',
'ICU',
'Y',
'C',
now(),
'migrasi',
now(),
'migrasi',
null,
null,
'rawat_intensif',
'RS01',
null,
null,
null),
('PYN00000035',
'Kamar Operasi',
'Y',
'C',
now(),
'migrasi',
now(),
'migrasi',
null,
null,
'kamar_operasi',
'RS01',
null,
null,
null);

-- insert to table kategori tindakan
INSERT INTO im_simrs_kategori_tindakan VALUES
('KAT00000041',
'Kamar Operasi',
'Y',
now(),
'migrasi',
now(),
'migrasi',
'C');

--insert to kategori tindakan pelayanan
INSERT INTO im_simrs_kategori_tindakan_pelayanan VALUES
('KTP00000037',
'KAT00000027',
'PYN00000031',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now()),
('KTP00000038',
'KAT00000026',
'PYN00000032',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now()),
('KTP00000039',
'KAT00000002',
'PYN00000033',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now()),
('KTP00000040',
'KAT00000003',
'PYN00000034',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now()),
('KTP00000041',
'KAT00000041',
'PYN00000035',
'Y',
'C',
'migrasi',
now(),
'migrasi',
now());

ALTER TABLE im_simrs_kategori_lab
ADD COLUMN kategori VARCHAR(100);

UPDATE im_simrs_kategori_lab
SET nama_kategori = 'Radiologi',
kategori = 'radiologi'
WHERE id_kategori_lab = 'KAL00000001';

UPDATE im_simrs_kategori_lab
SET nama_kategori = 'Laboratorium',
kategori = 'lab'
WHERE id_kategori_lab = 'KAL00000002';

-- 14-09-2020
ALTER TABLE it_simrs_paket_pasien
ADD COLUMN flag_selesai VARCHAR(1);

-- 15-09-2020
ALTER TABLE it_simrs_tindakan_rawat
ADD COLUMN id_ruangan VARCHAR(100);

ALTER TABLE it_simrs_riwayat_tindakan
ADD COLUMN id_ruangan VARCHAR(100);

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN flag_sisa VARCHAR(1);

INSERT INTO im_functions VALUES
(2400, 'Pendaftaran', null, 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 2400),
(2600, 'Ply. Rawat Inap', null, 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 2600),
(2800, 'Penunjang Medis', null, 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 2800);
INSERT INTO im_func_roles VALUES
(2400, 32, 'Y', now(), now(), 'admin', 'admin'),
(2600, 32, 'Y', now(), now(), 'admin', 'admin'),
(2800, 32, 'Y', now(), now(), 'admin', 'admin');

INSERT INTO im_functions VALUES
(2500, 'Verifikasi BPJS / PTPN', null, 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 2500),
(2700, 'Verifikasi Umum', null, 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 2700),
(2900, 'Verifikasi Asuransi', null, 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 2900);
INSERT INTO im_func_roles VALUES
(2500, 38, 'Y', now(), now(), 'admin', 'admin'),
(2700, 38, 'Y', now(), now(), 'admin', 'admin'),
(2900, 38, 'Y', now(), now(), 'admin', 'admin');

INSERT INTO im_functions VALUES
(2310, 'Pendaftaran Rawat Inap', '/rawatinap/initTppri_rawatinap.action', 2400, 2, now(), 'admin', now(), 'admin', 'Y','C', 2310),
(2311, 'init', '/rawatinap/initTppri_rawatinap.action', 2310, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2312, 'search', '/rawatinap/searchTppri_rawatinap.action', 2310, null, now(), 'admin', now(), 'admin', 'Y','C', null),

(2313, 'Rawat Intensif', '/rawatintensif/initForm_rawatintensif.action', 2600, 2, now(), 'admin', now(), 'admin', 'Y','C', 2313),
(2314, 'init', '/rawatintensif/initForm_rawatintensif.action', 2313, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2315, 'search', '/rawatintensif/searchIntensif_rawatintensif.action', 2313, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2316, 'add', '/rawatintensif/add_rawatintensif.action', 2313, null, now(), 'admin', now(), 'admin', 'Y','C', null),

(2317, 'Rawat Isolasi', '/rawatisolasi/initForm_rawatisolasi.action', 2600, 2, now(), 'admin', now(), 'admin', 'Y','C', 2317),
(2318, 'init', '/rawatisolasi/initForm_rawatisolasi.action', 2317, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2319, 'search', '/rawatisolasi/searchIsolasi_rawatisolasi.action', 2317, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2320, 'add', '/rawatisolasi/add_rawatisolasi.action', 2317, null, now(), 'admin', now(), 'admin', 'Y','C', null),

(2321, 'Rawat Operasi', '/rawatoperasi/initForm_rawatoperasi.action', 2600, 2, now(), 'admin', now(), 'admin', 'Y','C', 2321),
(2322, 'init', '/rawatoperasi/initForm_rawatoperasi.action', 2321, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2323, 'search', '/rawatoperasi/searchOperasi_rawatoperasi.action', 2321, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2324, 'add', '/rawatoperasi/add_rawatoperasi.action', 2321, null, now(), 'admin', now(), 'admin', 'Y','C', null),

(2325, 'Rawat Bersalin', '/rawatbersalin/initForm_rawatbersalin.action', 2600, 2, now(), 'admin', now(), 'admin', 'Y','C', 2325),
(2326, 'init', '/rawatbersalin/initForm_rawatbersalin.action', 2325, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2327, 'search', '/rawatbersalin/searchBersalin_rawatbersalin.action', 2325, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2328, 'add', '/rawatbersalin/add_rawatbersalin.action', 2325, null, now(), 'admin', now(), 'admin', 'Y','C', null),

(2329, 'Rawat Jalan', '/verifumumrj/initVerif_verifumumrj.action', 2700, 2, now(), 'admin', now(), 'admin', 'Y','C', 2329),
(2330, 'init', '/verifumumrj/initVerif_verifumumrj.action', 2329, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2331, 'search', '/verifumumrj/searchVerif_verifumumrj.action', 2329, null, now(), 'admin', now(), 'admin', 'Y','C', null),

(2332, 'Rawat Inap', '/verifumumri/initVerif_verifumumri.action', 2700, 2, now(), 'admin', now(), 'admin', 'Y','C', 2332),
(2333, 'init', '/verifumumri/initVerif_verifumumri.action', 2332, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2334, 'search', '/verifumumri/searchVerif_verifumumri.action', 2332, null, now(), 'admin', now(), 'admin', 'Y','C', null),

(2335, 'Rawat Jalan', '/verifasrj/initVerif_verifasrj.action', 2900, 2, now(), 'admin', now(), 'admin', 'Y','C', 2335),
(2336, 'init', '/verifasrj/initVerif_verifasrj.action', 2335, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2337, 'search', '/verifasrj/searchVerifAs_verifasrj.action', 2335, null, now(), 'admin', now(), 'admin', 'Y','C', null),

(2338, 'Rawat Inap', '/verifasri/initVerif_verifasri.action', 2900, 2, now(), 'admin', now(), 'admin', 'Y','C', 2338),
(2339, 'init', '/verifasri/initVerif_verifasri.action', 2338, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2340, 'search', '/verifasri/searchVerifAs_verifasri.action', 2338, null, now(), 'admin', now(), 'admin', 'Y','C', null);


INSERT INTO im_func_roles VALUES
(2310, 32, 'Y', now(), now(), 'admin', 'admin'),
(2311, 32, 'Y', now(), now(), 'admin', 'admin'),
(2312, 32, 'Y', now(), now(), 'admin', 'admin'),

(2313, 32, 'Y', now(), now(), 'admin', 'admin'),
(2314, 32, 'Y', now(), now(), 'admin', 'admin'),
(2315, 32, 'Y', now(), now(), 'admin', 'admin'),
(2316, 32, 'Y', now(), now(), 'admin', 'admin'),

(2317, 32, 'Y', now(), now(), 'admin', 'admin'),
(2318, 32, 'Y', now(), now(), 'admin', 'admin'),
(2319, 32, 'Y', now(), now(), 'admin', 'admin'),
(2320, 32, 'Y', now(), now(), 'admin', 'admin'),

(2321, 32, 'Y', now(), now(), 'admin', 'admin'),
(2322, 32, 'Y', now(), now(), 'admin', 'admin'),
(2323, 32, 'Y', now(), now(), 'admin', 'admin'),
(2324, 32, 'Y', now(), now(), 'admin', 'admin'),

(2325, 32, 'Y', now(), now(), 'admin', 'admin'),
(2326, 32, 'Y', now(), now(), 'admin', 'admin'),
(2327, 32, 'Y', now(), now(), 'admin', 'admin'),
(2328, 32, 'Y', now(), now(), 'admin', 'admin'),

(2329, 38, 'Y', now(), now(), 'admin', 'admin'),
(2330, 38, 'Y', now(), now(), 'admin', 'admin'),
(2331, 38, 'Y', now(), now(), 'admin', 'admin'),

(2332, 38, 'Y', now(), now(), 'admin', 'admin'),
(2333, 38, 'Y', now(), now(), 'admin', 'admin'),
(2334, 38, 'Y', now(), now(), 'admin', 'admin'),

(2335, 38, 'Y', now(), now(), 'admin', 'admin'),
(2336, 38, 'Y', now(), now(), 'admin', 'admin'),
(2337, 38, 'Y', now(), now(), 'admin', 'admin'),

(2338, 38, 'Y', now(), now(), 'admin', 'admin'),
(2339, 38, 'Y', now(), now(), 'admin', 'admin'),
(2340, 38, 'Y', now(), now(), 'admin', 'admin');

--master
UPDATE im_functions
SET parent = 3,
func_level = 2
WHERE func_id IN (1522, 1998, 2006);

--pendaftaran
UPDATE im_functions
SET parent = 2400,
func_level = 2
WHERE func_id IN (1474, 2016);

--rawat inap
UPDATE im_functions
SET parent = 2600,
func_level = 2
WHERE func_id IN (1485, 2025);

--penunjang medis
UPDATE im_functions
SET parent = 2800,
func_level = 2
WHERE func_id IN (1487, 1489);

--verifikasi BPJPS
UPDATE im_functions
SET parent = 2500,
func_level = 2
WHERE func_id IN (1669, 1678);

UPDATE im_functions
SET func_name = 'Rawat Jalan'
WHERE func_id = 1669;

UPDATE im_functions
SET func_name = 'Rawat Inap'
WHERE func_id = 1678;


UPDATE im_functions
SET func_name = 'Rawat Jalan'
WHERE func_id = 1474;

UPDATE im_functions
SET func_name = 'Ply. Rawat Jalan'
WHERE func_id = 1481;

UPDATE im_functions
SET func_name = 'Rawat Inap'
WHERE func_id = 2310;

UPDATE im_functions
SET func_name = 'Peralihan Biaya'
WHERE func_id = 2016;

INSERT INTO im_simrs_kelas_ruangan VALUES
('07', 'Kamar Intensif', 'Y', 'C', now(), 'adminrs', now(), 'adminrs', null, null, 'rawat_intensif'),
('08', 'Kamar Operasi', 'Y', 'C', now(), 'adminrs', now(), 'adminrs', null, null, 'kamar_operasi'),
('09', 'Kamar Isolasi', 'Y', 'C', now(), 'adminrs', now(), 'adminrs', null, null, 'rawat_isolasi'),
('10', 'Kamar Bersalin', 'Y', 'C', now(), 'adminrs', now(), 'adminrs', null, null, 'ruang_bersalin');

INSERT INTO mt_simrs_ruangan VALUES
('13', 'Intensif A', 'KI01', 'Y', '07', null, 50000, 'RS01', 'Y', now(), 'adminrs', now(), 'adminrs', 'C', 1, 1),
('14', 'Intensif B', 'KI01', 'Y', '07', null, 60000, 'RS01', 'Y', now(), 'adminrs', now(), 'adminrs', 'C', 1, 1),
('15', 'Operasi A', 'KO01', 'Y', '08', null, 70000, 'RS01', 'Y', now(), 'adminrs', now(), 'adminrs', 'C', 1, 1),
('16', 'Operasi B', 'KO01', 'Y', '08', null, 80000, 'RS01', 'Y', now(), 'adminrs', now(), 'adminrs', 'C', 1, 1),
('17', 'Isolasi A', 'KS01', 'Y', '09', null, 90000, 'RS01', 'Y', now(), 'adminrs', now(), 'adminrs', 'C', 1, 1),
('18', 'Isolasi B', 'KS01', 'Y', '09', null, 90000, 'RS01', 'Y', now(), 'adminrs', now(), 'adminrs', 'C', 1, 1),
('19', 'Bersalin A', 'KB01', 'Y', '10', null, 60000, 'RS01', 'Y', now(), 'adminrs', now(), 'adminrs', 'C', 1, 1),
('20', 'Bersalin B', 'KB01', 'Y', '10', null, 70000, 'RS01', 'Y', now(), 'adminrs', now(), 'adminrs', 'C', 1, 1);

UPDATE im_simrs_kelas_ruangan
SET kategori = 'rawat_inap'
WHERE id_kelas_ruangan IN  ('01','02','03','04','05','06');

UPDATE mt_simrs_ruangan
SET branch_id = 'RS01';

UPDATE im_simrs_tindakan
SET created_date = now(),
created_who = 'admin',
last_update= now(),
last_update_who = 'admin',
flag = 'Y',
action = 'C'
WHERE id_kategori_tindakan = 'KAT00000041';


UPDATE im_simrs_pelayanan
SET nama_pelayanan = 'Farmasi RJ'
WHERE id_pelayanan = 'PYN00000024';

UPDATE im_simrs_pelayanan
SET nama_pelayanan = 'Farmasi RI'
WHERE id_pelayanan = 'PYN00000025';

TRUNCATE TABLE im_simrs_keterangan_keluar;

INSERT INTO im_simrs_keterangan_keluar VALUES
('01','Sembuh','Y','C','2019-11-22 09:37:04.023','adminrs','2019-11-22 09:37:04.023','adminrs'),
('02','Pulang Atas Pemintaan Sendiri','Y','C','2019-11-22 09:37:04.023','adminrs','2019-11-22 09:37:04.023','adminrs'),
('03','Pulang Atas Persetujuan Dokter','Y','C','2019-11-22 09:37:04.023','adminrs','2019-11-22 09:37:04.023','adminrs'),
('04','Pulang Karena Meninggal','Y','C','2019-11-22 09:37:04.023','adminrs','2019-11-22 09:37:04.023','adminrs');

INSERT INTO im_simrs_dokter_pelayanan VALUES
('DPL00000035','DKR00000018','PYN00000004','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000036','DKR00000018','PYN00000005','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000037','DKR00000018','PYN00000006','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000038','DKR00000018','PYN00000007','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000039','DKR00000018','PYN00000008','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000040','DKR00000018','PYN00000009','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000041','DKR00000018','PYN00000010','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000042','DKR00000018','PYN00000011','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000043','DKR00000018','PYN00000012','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000044','DKR00000018','PYN00000013','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000045','DKR00000018','PYN00000014','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000046','DKR00000018','PYN00000015','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000047','DKR00000018','PYN00000016','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000048','DKR00000018','PYN00000017','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000049','DKR00000018','PYN00000018','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000050','DKR00000018','PYN00000019','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000051','DKR00000018','PYN00000020','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000052','DKR00000018','PYN00000021','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000053','DKR00000018','PYN00000022','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00'),
('DPL00000054','DKR00000018','PYN00000023','Y','C','migrasi','migrasi','2020-06-10 14:09:00','2020-06-10 14:09:00');

UPDATE im_simrs_dokter
SET sip = '01288898987890';

---------- SUDAH DI PROD -----------
====================================

            /\   /\   /\
           |__| |__| |__|
            ||   ||   ||
            ||   ||   ||
            ||   ||   ||
----------- ||   ||   || -----------
---------- SUDAH DI PROD -----------
----------- +++++++++++ ------------

-- 2020-09-22
CREATE TABLE public.im_simrs_rekanan_ops
(
  id_rekanan_ops character varying(50) NOT NULL,
  nomor_master character varying(100),
  nama_rekanan character varying(100),
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  created_who character varying(100),
  last_update timestamp without time zone,
  last_update_who character varying(100),
  tipe character varying(100),
  CONSTRAINT im_simrs_rekanan_ops_pk PRIMARY KEY (id_rekanan_ops)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.im_simrs_rekanan_ops
  OWNER TO postgres;

CREATE SEQUENCE seq_rekanan_ops;

UPDATE im_simrs_rekanan_ops
SET is_bpjs = 'Y',
flag = 'Y',
action = 'C',
created_date = '2020-09-22 00:00:00',
created_who = 'admin',
last_update = '2020-09-22 00:00:00',
last_update_who = 'admin',
tipe = 'ptpn';

-- 2020-09-24
CREATE TABLE public.im_simrs_detail_rekanan_ops
(
  id_detail_rekanan_ops character varying(50) NOT NULL,
  id_rekanan_ops character varying(50) NOT NULL,
  diskon numeric,
  is_bpjs character varying(1),
  branch_id character varying(50),
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  created_who character varying(100),
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT im_simrs_detail_rekanan_ops_pk PRIMARY KEY (id_detail_rekanan_ops)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.im_simrs_detail_rekanan_ops
  OWNER TO postgres;

CREATE SEQUENCE seq_detail_rekanan_ops;

ALTER TABLE im_simrs_lab
ADD COLUMN branch_id VARCHAR(100);

-- 2020-09-25
ALTER TABLE mt_simrs_item_paket_periksa
ADD COLUMN id_pelayanan VARCHAR(100);

CREATE TABLE public.mt_simrs_detail_paket
(
  id_detail_paket character varying(30) NOT NULL,
  id_paket character varying(30),
  id_pelayanan character varying(30),
  urutan bigint,
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  created_who character varying(100),
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_detail_paket PRIMARY KEY (id_detail_paket)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.mt_simrs_detail_paket
  OWNER TO postgres;

CREATE SEQUENCE seq_detail_paket;

CREATE TABLE public.it_simrs_pelayanan_paket
(
  id_pelayanan_paket character varying(50) NOT NULL,
  no_checkup character varying(50),
  id_paket character varying(50),
  id_detail_checkup character varying(50),
  id_pelayanan character varying(50),
  urutan bigint,
  is_periksa character varying(1),
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  created_who character varying(100),
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_pelayanan_paket PRIMARY KEY (id_pelayanan_paket)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_pelayanan_paket
  OWNER TO postgres;

CREATE SEQUENCE seq_pelayanan_paket;

--2020-09-27
ALTER TABLE it_simrs_periksa_lab
ADD COLUMN ttd_pengirim VARCHAR(100);

--2020-09-30
ALTER TABLE im_simrs_dokter
ADD COLUMN kuota_on_site bigint;

CREATE TABLE public.mt_simrs_ruangan_tempat_tidur
(
  id_tempat_tidur character varying(30) NOT NULL,
  id_ruangan character varying(30) NOT NULL,
  nama_tempat_tidur character varying(100),
  status character varying(1),
  flag character varying(1),
  created_date timestamp without time zone,
  created_who character varying(100),
  last_update timestamp without time zone,
  last_update_who character varying(100),
  action character varying(1),
  CONSTRAINT pk_id_tempat_tidur PRIMARY KEY (id_tempat_tidur)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.mt_simrs_ruangan_tempat_tidur
  OWNER TO postgres;

CREATE SEQUENCE seq_tempat_tidur;

ALTER TABLE im_simrs_header_tindakan
RENAME id TO id_header_tindakan;

ALTER TABLE im_simrs_header_tindakan
DROP id_kategori_tindakan;

ALTER TABLE im_simrs_header_tindakan
ADD COLUMN kategori_ina_bpjs character varying(100);

ALTER TABLE im_simrs_kategori_tindakan
ADD COLUMN branch_id VARCHAR(50);

--2020-10-01
ALTER TABLE im_simrs_header_tindakan
ADD COLUMN id_kategori_nota VARCHAR(100);

INSERT INTO im_functions VALUES
(2341, 'All Tindakan', '/headertindakan/initForm_headertindakan.action', 3, 2, now(), 'admin', now(), 'admin', 'Y','C', 2341),
(2342, 'init', '/headertindakan/initForm_headertindakan.action', 2341, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2343, 'search', '/headertindakan/search_headertindakan.action', 2341, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(2341, 32, 'Y', now(), now(), 'admin', 'admin'),
(2342, 32, 'Y', now(), now(), 'admin', 'admin'),
(2343, 32, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE im_simrs_tindakan
ADD COLUMN id_pelayanan VARCHAR(50);

--2020-10-02
ALTER TABLE im_simrs_header_tindakan
DROP diskkon,
DROP hargaDiskon;

ALTER TABLE im_simrs_header_tindakan
DROP id_kategori_nota;

ALTER TABLE im_simrs_tindakan
ADD COLUMN is_elektif VARCHAR(1);

--2020-10-03
CREATE TABLE public.im_simrs_parameter_pemeriksaan
(
    id_parameter_pemeriksaan character varying(50) NOT NULL,
	id_kategori_lab character varying(50),
    nama_pemeriksaan character varying(100),
    keterangan_acuan_l character varying(50),
	keterangan_acuan_p character varying(50),
    satuan character varying(50),
    tarif numeric,
    flag character varying(1),
    action character varying(1),
    created_date timestamp without time zone,
    created_who character varying(100),
    last_update timestamp without time zone,
    last_update_who character varying(100),
    CONSTRAINT pk_id_parameter_pemeriksaan PRIMARY KEY (id_parameter_pemeriksaan)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

CREATE SEQUENCE seq_perameter_pemeriksaan;

INSERT INTO im_functions VALUES
(2344, 'All Parameter', '/pemeriksaan/initForm_pemeriksaan.action', 3, 2, now(), 'admin', now(), 'admin', 'Y','C', 2344),
(2345, 'init', '/pemeriksaan/initForm_pemeriksaan.action', 2344, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2346, 'search', '/pemeriksaan/search_pemeriksaan.action', 2344, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(2344, 32, 'Y', now(), now(), 'admin', 'admin'),
(2345, 32, 'Y', now(), now(), 'admin', 'admin'),
(2346, 32, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE im_simrs_lab_detail
DROP nama_detail_periksa,
DROP satuan,
DROP keterangan_acuan;

ALTER TABLE im_simrs_lab_detail
ADD COLUMN id_parameter_pemeriksaan VARCHAR(50);

ALTER TABLE im_simrs_lab
DROP COLUMN tarif;

UPDATE im_functions
SET func_name = 'Parameter'
WHERE func_id = 2157;

ALTER TABLE im_simrs_lab_detail
ADD COLUMN branch_id VARCHAR(50);

-- 2020-10-04
INSERT INTO im_functions VALUES
(2347, 'Tempat Tidur', '/tempattidur/initForm_tempattidur.action', 3, 2, now(), 'admin', now(), 'admin', 'Y','C', 2347),
(2348, 'init', '/tempattidur/initForm_tempattidur.action', 2347, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2349, 'search', '/tempattidur/search_tempattidur.action', 2347, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(2347, 32, 'Y', now(), now(), 'admin', 'admin'),
(2348, 32, 'Y', now(), now(), 'admin', 'admin'),
(2349, 32, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE im_simrs_kelas_ruangan
ALTER COLUMN id_kelas_ruangan TYPE VARCHAR(50);

ALTER TABLE mt_simrs_ruangan
ALTER COLUMN id_kelas_ruangan TYPE VARCHAR(50);

ALTER TABLE mt_simrs_ruangan
ALTER COLUMN id_ruangan TYPE VARCHAR(50);

ALTER TABLE it_simrs_periksa_lab_detail
RENAME keterangan_acuan TO keterangan_acuan_l;

ALTER TABLE it_simrs_periksa_lab_detail
RENAME harga TO tarif;

ALTER TABLE it_simrs_periksa_lab_detail
ADD COLUMN keterangan_acuan_p VARCHAR(100);

ALTER TABLE it_simrs_periksa_lab
ADD COLUMN id_kategori_lab VARCHAR(50);

ALTER TABLE it_simrs_rawat_inap
ALTER COLUMN id_ruangan TYPE VARCHAR(50);

ALTER TABLE it_simrs_tindakan_rawat
ALTER COLUMN id_tindakan TYPE VARCHAR(50);

-- 2020-10-09
ALTER TABLE it_simrs_dokter_team
ADD COLUMN flag_approve VARCHAR(1),
ADD COLUMN keterangan VARCHAR(1000);

ALTER TABLE im_simrs_tindakan
DROP COLUMN tindakan;

-- WEEKEND
CREATE TABLE im_simrs_jenis_diet
(
	id_jenis_diet VARCHAR(50) PRIMARY KEY NOT NULL,
	nama_jenis_diet VARCHAR(100),
	action VARCHAR(1),
	flag VARCHAR(1),
	created_date TIMESTAMP WITHOUT TIME ZONE,
	created_who VARCHAR(100),
	last_update TIMESTAMP WITHOUT TIME ZONE,
	last_update_who VARCHAR(100)
)

ALTER TABLE it_simrs_order_gizi
DROP COLUMN diet_pagi,
DROP COLUMN bentuk_makan_pagi,
DROP COLUMN diet_siang,
DROP COLUMN bentuk_makan_siang,
DROP COLUMN diet_malam,
DROP COLUMN bentuk_makan_malam;

CREATE TABLE it_simrs_detail_jenis_diet
(
	id_detail_jenis_diet VARCHAR(50) PRIMARY KEY NOT NULL,
	id_order_gizi VARCHAR(50),
	id_jenis_diet VARCHAR(50),
	nama_jenis_diet VARCHAR(100),
	action VARCHAR(1),
	flag VARCHAR(1),
	created_date TIMESTAMP WITHOUT TIME ZONE,
	created_who VARCHAR(100),
	last_update TIMESTAMP WITHOUT TIME ZONE,
	last_update_who VARCHAR(100)
);

ALTER TABLE it_simrs_order_gizi
ALTER COLUMN tgl_order TYPE TIMESTAMP WITHOUT TIME ZONE;

CREATE SEQUENCE seq_detail_jenis_diet;

INSERT INTO im_simrs_jenis_diet VALUES
('JDD00000001','Diet Vitamin', 'C', 'Y', now(), 'adminrs', now(), 'adminrs'),
('JDD00000002','Diet Kalori', 'C', 'Y', now(), 'adminrs', now(), 'adminrs'),
('JDD00000003','Diet Lemak', 'C', 'Y', now(), 'adminrs', now(), 'adminrs'),
('JDD00000004','Diet Asam', 'C', 'Y', now(), 'adminrs', now(), 'adminrs'),
('JDD00000005','Diet Gula', 'C', 'Y', now(), 'adminrs', now(), 'adminrs');

INSERT INTO im_functions VALUES
(2350, 'Recovery Room', '/recoveryroom/initForm_recoveryroom.action', 2600, 2, now(), 'admin', now(), 'admin', 'Y','C', 2350),
(2351, 'init', '/recoveryroom/initForm_recoveryroom.action', 2350, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2352, 'search', '/recoveryroom/searchRR_recoveryroom.action', 2350, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2353, 'add', '/recoveryroom/add_recoveryroom.action', 2350, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(2350, 32, 'Y', now(), now(), 'admin', 'admin'),
(2351, 32, 'Y', now(), now(), 'admin', 'admin'),
(2352, 32, 'Y', now(), now(), 'admin', 'admin'),
(2353, 32, 'Y', now(), now(), 'admin', 'admin');

INSERT INTO im_functions VALUES
(3100, 'Dashboard', '/initdashboard/initForm_initdashboard.action', 10, 1, now(), 'admin', now(), 'admin', 'Y','C', 3100),
(2355, 'init dashboard', '/initdashboard/initForm_initdashboard.action', 3100, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(3100, 32, 'Y', now(), now(), 'admin', 'admin'),
(2355, 32, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN flag_kunjungan VARCHAR(1),
ADD COLUMN berkas VARCHAR(100);

ALTER TABLE it_simrs_order_gizi
ADD COLUMN waktu VARCHAR(100);

INSERT INTO im_simrs_kelas_ruangan VALUES
('11','Recovery Room','Y','C',now(),'adminrs',now(),'adminrs','03.06.01','O065','rr');

INSERT INTO mt_simrs_ruangan VALUES
('21','RR','R001','Y','11',NULL,100000,'RS01','Y',now(),'adminrs',now(),'Ike Nurjanah','U',1,1);

UPDATE im_simrs_jenis_periksa_pasien
SET id_jenis_periksa_pasien = 'rekanan',
keterangan = 'Rekanan'
WHERE id_jenis_periksa_pasien = 'ptpn';

UPDATE im_simrs_jenis_periksa_pasien
SET keterangan = 'Medical Checkup'
WHERE id_jenis_periksa_pasien = 'paket_perusahaan';

UPDATE im_simrs_jenis_periksa_pasien
SET keterangan = 'Promo'
WHERE id_jenis_periksa_pasien = 'paket_individu';

--WEEKEND
ALTER TABLE it_simrs_asesmen_keperawatan_rawat_inap
ADD COLUMN nama_terang VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

ALTER TABLE it_simrs_implementasi_perawat
ADD COLUMN sip VARCHAR(100);

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000239','RMM00000098','rawat_inap','17','Y','C','migrasi',now(),now(),'migrasi');

---------- SUDAH DI PROD -----------
====================================

            /\   /\   /\
           |__| |__| |__|
            ||   ||   ||
            ||   ||   ||
            ||   ||   ||
----------- ||   ||   || -----------
---------- SUDAH DI PROD -----------
----------- +++++++++++ ------------

--FRIDAY 23-10-2020
SELECT * FROM im_simrs_pelayanan
WHERE id_pelayanan = 'PYN00000010';

SELECT * FROM im_simrs_pelayanan
WHERE id_pelayanan = 'PYN00000011';

UPDATE im_simrs_pelayanan
SET kategori_pelayanan = 'spesialis_mata'
WHERE id_pelayanan = 'PYN00000010';

UPDATE im_simrs_pelayanan
SET kategori_pelayanan = 'spesialis_kulit_kelamin'
WHERE id_pelayanan = 'PYN00000011';

SELECT * FROM im_simrs_rekam_medis_pasien ORDER BY id_rekam_medis_pasien DESC;
INSERT INTO im_simrs_rekam_medis_pasien VALUES
('RMM00000102','RJ 013','Asesmen Spesialis Mata','form','spesialis_mata','spesialis_mata','showModalSPS','Y','C','migrasi',now(),now(),'migrasi','2'),
('RMM00000103','RJ 014','Asesmen Spesialis Mata Operasi','form','spesialis_mata','spesialis_mata_op','showModalSPS','Y','C','migrasi',now(),now(),'migrasi','2'),
('RMM00000104','RJ 015','Asesmen Spesialis Kulit Kelamin','form','spesialis_kulit_kelamin','spesialis_kulit_kelamin','showModalSPS','Y','C','migrasi',now(),now(),'migrasi','3');

SELECT * FROM im_simrs_rekam_medis_pelayanan ORDER BY id_rekam_medis_pelayanan DESC;
INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000239','RMM00000102','rawat_jalan','1','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000240','RMM00000103','rawat_jalan','2','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000241','RMM00000104','rawat_jalan','1','Y','C','migrasi',now(),now(),'migrasi');

--SELOSO
ALTER TABLE it_simrs_hemodinamika
ADD COLUMN sistole int,
ADD COLUMN diastole int;

ALTER TABLE it_simrs_hemodinamika
ALTER COLUMN ekg TYPE VARCHAR(100);

DROP TABLE it_simrs_respirasi;

CREATE TABLE public.it_simrs_respirasi
(
  id_respirasi character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  waktu character varying(100),
  tanggal date,
  gcs character varying(100),
  diameter_pupil character varying(100),
  reflek_cahaya character varying(100),
  tk character varying(100),
  kk character varying(100),
  O2 character varying(100),
  tipe_ventilasi character varying(100),
  peep character varying(100),
  frekwensi character varying(100),
  tv character varying(100),
  mv character varying(100),
  p_support_p_asb character varying(100),
  p_ins_p_con character varying(100),
  triger character varying(100),
  ins_time character varying(100),
  flow character varying(100),
  fio_kon character varying(100),
  ukuran_ett character varying(100),
  kedalaman_ett character varying(100),
  spo2 character varying(100),
  secret character varying(100),
  keterangan character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_respirasi PRIMARY KEY (id_respirasi)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_respirasi
  OWNER TO postgres;

--MALAM MALAM
ALTER TABLE it_simrs_hemodialisa
DROP is_ttd;

ALTER TABLE it_simrs_hemodialisa
ADD COLUMN tipe VARCHAR(100);

--ABIS JUMATAN
ALTER TABLE it_simrs_header_checkup
ADD COLUMN pendidikan VARCHAR(100),
ADD COLUMN status_perkawinan VARCHAR(100),
ADD COLUMN kunjungan_poli VARCHAR(100);

--HARI MINGGU MALAM SENIN
ALTER TABLE it_simrs_monitoring_anestesi
DROP COLUMN tensi,
DROP COLUMN anest,
DROP COLUMN ethran,
DROP COLUMN sevo,
DROP COLUMN infus;

ALTER TABLE it_simrs_monitoring_anestesi
ADD COLUMN sistole VARCHAR(100),
ADD COLUMN diastole VARCHAR(100),
ADD COLUMN inhalasi VARCHAR(100);

ALTER TABLE im_simrs_pasien
ADD COLUMN pendidikan VARCHAR(100),
ADD COLUMN status_perkawinan VARCHAR(100);

ALTER TABLE im_simrs_pasien
ADD COLUMN pendidikan VARCHAR(100),
ADD COLUMN status_perkawinan VARCHAR(100);

--KEMMIS MALAM JUMAT
ALTER TABLE im_simrs_pelayanan
ADD COLUMN kode_poli_vclaim VARCHAR(100);

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN flag_send_klaim VARCHAR(1);

ALTER TABLE it_simrs_periksa_lab
ADD COLUMN is_read VARCHAR(1);

INSERT INTO im_simrs_rekam_medis_pasien VALUES
('RMM00000105','SP 026','Surat Keterangan Cuti','surat','SP18','SP18','printPernyataan','Y','C','migrasi',now(),now(),'migrasi','1');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000243','RMM00000105','rawat_jalan','10','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000244','RMM00000105','igd','10','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000245','RMM00000105','rawat_inap','10','Y','C','migrasi',now(),now(),'migrasi');

ALTER TABLE im_branches
ADD COLUMN warna VARCHAR (100);

-- UPDATE BRANCHES
UPDATE im_branches
SET warna = '#0000ff'
WHERE branch_id = 'RS01';
UPDATE im_branches
SET warna = '#66ff66'
WHERE branch_id = 'RS02';
UPDATE im_branches
SET warna = '#ff0000'
WHERE branch_id = 'RS03';
UPDATE im_branches
SET warna = '#ff33cc'
WHERE branch_id = 'RS04';
UPDATE im_branches
SET warna = '#ff9900'
WHERE branch_id = 'RS05';
UPDATE im_branches
SET warna = '#00ffff'
WHERE branch_id = 'RS06';

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN no_antrian VARCHAR(100);

INSERT INTO im_functions VALUES
(2356, 'print no antrian', '/checkup/printNoAntrian_checkup.action', 1474, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(2356, 32, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN poli_rujukan_internal VARCHAR(100);

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN no_rujukan_internal VARCHAR(100);

INSERT INTO im_functions VALUES
(2357, 'print no rujukan', '/checkupdetail/printNoRujukan_checkupdetail.action', 1481, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(2357, 32, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE it_simrs_pengkajian_ulang_keperawatan
ADD COLUMN tipe VARCHAR(100);


--BUAT MIGRASI
CREATE TABLE public.im_position_migrasi
(
  position_name character varying(100),
  created_date timestamp without time zone,
  created_who character varying(100),
  last_update timestamp without time zone,
  last_update_who character varying(100),
  flag character varying(1),
  action character varying(1),
  department_id character varying(3),
  kelompok_id character varying(4),
  position_id character varying(10) NOT NULL,
  bagian_id character varying(10),
  carrer_path_strata_id character varying(10),
  flag_dijabat_satu character varying(1),
  kodering character varying(10),
  kategori character varying(50),
  CONSTRAINT im_position_migrasi_pkey PRIMARY KEY (position_id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.im_position_migrasi
  OWNER TO postgres;


CREATE TABLE public.im_hris_department_migrasi
(
  department_id character varying(3) NOT NULL,
  department_name character varying(100),
  created_who character varying(100),
  last_update_who character varying(100),
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  kodering character varying(10),
  CONSTRAINT im_hris_department__migrasi_pkey PRIMARY KEY (department_id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.im_hris_department_migrasi
  OWNER TO postgres;

CREATE TABLE public.im_hris_position_bagian_migrasi
(
  bagian_id character varying(10) NOT NULL,
  nama_bagian character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  last_update_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  branch_id character varying(10),
  divisi_id character varying(10),
  kodering character varying(10),
  CONSTRAINT im_hris_position_bagian_migrasi_pkey PRIMARY KEY (bagian_id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.im_hris_position_bagian_migrasi
  OWNER TO postgres;

INSERT INTO im_position
(position_name,
created_date,
created_who,
last_update,
last_update_who,
flag,
action,
department_id,
kelompok_id,
position_id,
bagian_id,
carrer_path_strata_id,
flag_dijabat_satu,
kodering,
kategori
)
SELECT
a.position_name,
a.created_date,
a.created_who,
a.last_update,
a.last_update_who,
a.flag,
a.action,
a.department_id,
a.kelompok_id,
a.position_id,
a.bagian_id,
a.carrer_path_strata_id,
a.flag_dijabat_satu,
a.kodering,
a.kategori
FROM im_position_migrasi a
LEFT JOIN im_position b ON a.position_id = b.position_id
WHERE b.position_id IS NULL;

INSERT INTO im_hris_department
(
department_id,
department_name,
created_who,
last_update_who,
flag,
action,
created_date,
last_update,
kodering
)
SELECT
a.department_id,
a.department_name,
a.created_who,
a.last_update_who,
a.flag,
a.action,
a.created_date,
a.last_update,
a.kodering
FROM im_hris_department_migrasi a
LEFT JOIN im_hris_department b ON a.department_id = b.department_id
WHERE b.department_id IS NULL;

INSERT INTO im_hris_position_bagian
(
bagian_id,
nama_bagian,
flag,
action,
created_who,
last_update_who,
created_date,
last_update,
branch_id,
divisi_id,
kodering
)
SELECT
a.bagian_id,
a.nama_bagian,
a.flag,
a.action,
a.created_who,
a.last_update_who,
a.created_date,
a.last_update,
a.branch_id,
a.divisi_id,
a.kodering
FROM im_hris_position_bagian_migrasi  a
LEFT JOIN im_hris_position_bagian b ON a.bagian_id = b.bagian_id
WHERE b.bagian_id IS NULL;

---------- SUDAH DI PROD -----------
====================================

            /\   /\   /\
           |__| |__| |__|
            ||   ||   ||
            ||   ||   ||
            ||   ||   ||
----------- ||   ||   || -----------
---------- SUDAH DI PROD -----------
----------- +++++++++++ ------------

--SENIN 30-11-2020 16:07
ALTER TABLE im_simrs_tindakan
DROP COLUMN kategori_ina_bpjs;

ALTER TABLE im_simrs_tindakan
ADD COLUMN id_kelas_ruangan VARCHAR(100),
ADD COLUMN flag_kelas_ruangan VARCHAR(1);

ALTER TABLE im_simrs_kelas_ruangan
DROP COLUMN kodering;

ALTER TABLE mt_simrs_ruangan
DROP COLUMN sisa_kuota,
DROP COLUMN status_ruangan,
DROP COLUMN kuota;

ALTER TABLE im_simrs_pelayanan
DROP COLUMN kodering;

ALTER TABLE mt_simrs_transaksi_obat_detail
ADD COLUMN id_racik VARCHAR(50),
ADD COLUMN nama_racik VARCHAR(100),
ADD COLUMN jenis_resep VARCHAR(100);

INSERT INTO im_functions VALUES
(3315, 'print label', '/reseppoli/printLabelResepPasien_reseppoli.action', 1543, 1, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(3315, 36, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE im_simrs_obat
DROP COLUMN id_jenis_obat;

--Anyar IKI

INSERT INTO im_functions VALUES
(3316, 'search obat keterangan', '/keteranganobat/search_keteranganobat.action', 3318, 1, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(3316, 85, 'Y', now(), now(), 'admin', 'admin');

--SIDAH DI PROD NO RM LAMA to 6 DIGIT
UPDATE im_simrs_pasien aa
SET no_rm_lama = (
	SELECT
	CASE
	WHEN a.panjang = 6 THEN a.no_rm_lama
	WHEN a.panjang = 5 THEN CONCAT('0', a.no_rm_lama)
	WHEN a.panjang = 4 THEN CONCAT('00', a.no_rm_lama)
	WHEN a.panjang = 3 THEN CONCAT('000', a.no_rm_lama)
	WHEN a.panjang = 2 THEN CONCAT('0000', a.no_rm_lama)
	WHEN a.panjang = 1 THEN CONCAT('00000', a.no_rm_lama)
	ELSE null
	END as no_rm_lama_edit
	FROM(
		SELECT
		no_rm_lama,
		id_pasien,
		LENGTH(no_rm_lama) as panjang
		FROM im_simrs_pasien
		WHERE created_who NOT LIKE 'testing'
	)a WHERE a.id_pasien = aa.id_pasien
)
WHERE created_who NOT LIKE 'testing';

---------- SUDAH DI PROD -----------
====================================

            /\   /\   /\
           |__| |__| |__|
            ||   ||   ||
            ||   ||   ||
            ||   ||   ||
----------- ||   ||   || -----------
---------- SUDAH DI PROD -----------
----------- +++++++++++ ------------

--BELUM DI PROD
ALTER TABLE im_simrs_pasien
ADD COLUMN no_rm_lama VARCHAR(50);

ALTER TABLE im_simrs_rekam_medic_lama
ADD COLUMN no_rm_lama VARCHAR (50);

CREATE SEQUENCE seq_dokter_pelayanan;

--Query
DELETE FROM im_hris_pegawai
WHERE nip IN ('DKR00000018','DKR00000010','DKR00000012')

INSERT INTO im_hris_pegawai VALUES
('DKR00000001','Syamsul Arief, DR',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000002','M. Nurudin Akbar, DR',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','nurudin.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000003','Widhy Pramono, DR, SP.B',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','windhy.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000004','Heru Rustiadi, DR, SP.S',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','heru.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000005','Ahmad Reza, DR, SP.OG',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','reza.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000006','Vita Dwi W., DR, SP.A',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000007','Rini Kusumawar D., DR, SP.M',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','rini.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000008','Tutut Sriwilujeng, DR, SP.THT',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','tutut.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000009','Revi Adheriyani, DR, SP.JP. FIHA',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000010','Moh. Nurkholis R., DR',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','nurkholis.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000011','Andi Wijayanto, DR, SP.P',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000012','Adi Winarno, DR',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000013','Drg. Nasichur Rosidi',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000014','Rudy Cahyo N., DR, SP.B',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','rudy.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000015','Djoko Soelistijono, DR, SP.B(K)ONK',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','djoko.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000016','Triastutik Sulistyo, DR, SP.A',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','triastutik.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000017','Sri Harnowo, DR, SP.KFR',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000018','Albert Liangtono, DR',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','albert.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000019','Sugeng Mulyadi, DR, SP.U',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000020','Gembong Witjaksono, DR, SP.JP',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000021','Samsuri, DR, SR.P',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000022','Anggraina P, DR',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000023','Jan F. Tahalele, DR, SP.B',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','tahalele.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000024','Irfani Prajnaparamita, DR, SP.M',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','irfani.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000025','Moh. Ifnudin, DR, SP.KK',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','ifnudin.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000026','Andhika Yudha Arizki, DR',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000027','Budiono Wijaya, DR,SP.KG',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01',null,'Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null),
('DKR00000028','Bambang Soeprijanto, DR, SP.RAD (K)',null,null,'123456581','KABUPATEN SIDOARJO',null,null,null,null,null,null,'2020-05-01','Surabaya','TP01','bambang.jpeg','Online',null,'Y','U','MOH.IMRON,DRS,APT','adminkp','2000-01-01',null,'KNS','B',0,'L',null,null,'123',0,null,'2020-09-15 13:25:16.825','2020-05-15 10:48:27.921','2075-05-01',null,null,0.00,0,'islam',null,'1',null,null,null,null,null,null,'Y',null,null,'-',null,0.00,null,'N',null,null,1,null,null,null,null,null,null,null,'2074-11-01',null,'N','N','Y','Y','Y','Y','Y','Y','N',null,null,null,null,0,0,0,null,null,null,null);

DELETE FROM it_hris_pegawai_position
WHERE nip IN ('DKR00000010', 'DKR00000012', 'DKR00000018');

INSERT INTO it_hris_pegawai_position VALUES
('PP000700','DKR00000001','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000701','DKR00000002','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000702','DKR00000003','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000703','DKR00000004','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000704','DKR00000005','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000705','DKR00000006','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000706','DKR00000007','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000707','DKR00000008','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000708','DKR00000009','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000709','DKR00000010','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000710','DKR00000011','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000711','DKR00000012','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000712','DKR00000013','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000713','DKR00000014','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000714','DKR00000015','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000715','DKR00000016','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000716','DKR00000017','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000717','DKR00000018','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000718','DKR00000019','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000719','DKR00000020','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000720','DKR00000021','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000721','DKR00000022','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000722','DKR00000023','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000723','DKR00000024','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000724','DKR00000025','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000725','DKR00000026','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000726','DKR00000027','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y'),
('PP000727','DKR00000028','RS01','Y','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','2020-05-15 10:48:27.921','MOH.IMRON,DRS,APT','C','P009','N','PR001','JP05','Y');

INSERT INTO im_roles VALUES
(86,'ADMIN ZEBRA',now(),'adminzebra',now(),'adminzebra','Y','C',null);

INSERT INTO im_functions VALUES
(2357, 'License', '/licenseapps/initLicense_licenseapps.action', 10, 1, now(), 'adminzebra', now(), 'adminzebra', 'Y','C', 2357),
(2358, 'init license', '/licenseapps/initLicense_licenseapps.action', 2357, null, now(), 'adminzebra', now(), 'adminzebra', 'Y','C', null),
(2359, 'search lisence', '/licenseapps/searchLicense_licenseapps.action', 2357, null, now(), 'adminzebra', now(), 'adminzebra', 'Y','C', null),

(2360, 'Version', '/version/initVersion_version.action', 10, 1, now(), 'adminzebra', now(), 'adminzebra', 'Y','C', 2360),
(2361, 'init version', '/version/initVersion_version.action', 2360, null, now(), 'adminzebra', now(), 'adminzebra', 'Y','C', null),
(2362, 'search version', '/version/searchVersion_version.action', 2360, null, now(), 'adminzebra', now(), 'adminzebra', 'Y','C', null),
(2363, 'Save Version', '/version/saveVersion_version.action', 2360, null, now(), 'adminzebra', now(), 'adminzebra', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(2357, 86, 'Y', now(), now(), 'adminzebra', 'adminzebra'),
(2358, 86, 'Y', now(), now(), 'adminzebra', 'adminzebra'),
(2359, 86, 'Y', now(), now(), 'adminzebra', 'adminzebra'),

(2360, 86, 'Y', now(), now(), 'adminzebra', 'adminzebra'),
(2361, 86, 'Y', now(), now(), 'adminzebra', 'adminzebra'),
(2362, 86, 'Y', now(), now(), 'adminzebra', 'adminzebra'),
(2363, 86, 'Y', now(), now(), 'adminzebra', 'adminzebra');

--UPDATE MENU KASIR JALAN
SELECT * FROM im_func_roles
WHERE role_id = 41
AND func_id = 2;

DELETE FROM im_func_roles
WHERE role_id = 41
AND func_id = 2;

--UPDATE FOR PELAYANAN
--01-02-2021 07:18 WIS (waktu indonesia sumenep)
CREATE TABLE im_simrs_header_pelayanan(
id_header_pelayanan VARCHAR(30) PRIMARY KEY NOT NULL,
nama_pelayanan VARCHAR(500),
tipe_pelayanan VARCHAR(100),
kategori_pelayanan VARCHAR(100),
kode_vclaim VARCHAR(100),
divisi_id VARCHAR(100),
flag VARCHAR(1),
action VARCHAR(1),
created_date TIMESTAMP WITHOUT TIME ZONE,
created_who VARCHAR(100),
last_update TIMESTAMP WITHOUT TIME ZONE,
last_update_who VARCHAR(100),
is_vaksin VARCHAR(1)
);

CREATE SEQUENCE seq_header_pelayanan;

--drop column2 di im_simrs_pelayanan
TRUNCATE TABLE im_simrs_pelayanan;

ALTER TABLE im_simrs_pelayanan
ADD COLUMN id_header_pelayanan VARCHAR(100);

ALTER TABLE im_simrs_pelayanan
DROP COLUMN nama_pelayanan,
DROP COLUMN is_poli,
DROP COLUMN is_eksekutif,
DROP COLUMN tipe_pelayanan,
DROP COLUMN divisi_id,
DROP COLUMN kategori_pelayanan,
DROP COLUMN kode_poli_vclaim;

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN is_eksekutif VARCHAR(1),
ADD COLUMN is_vaksin VARCHAR(1);

--02-02-2021
--function header pelayanan
INSERT INTO im_functions VALUES
(2365, 'Header Pelayanan', '/headerpelayanan/initForm_headerpelayanan.action', 6000, 2, now(), 'admin', now(), 'admin', 'Y','C', 2365),
(2366, 'init', '/headerpelayanan/initForm_headerpelayanan.action', 2365, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(2367, 'search', '/headerpelayanan/search_headerpelayanan.action', 2365, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(2365, 32, 'Y', now(), now(), 'admin', 'admin'),
(2366, 32, 'Y', now(), now(), 'admin', 'admin'),
(2367, 32, 'Y', now(), now(), 'admin', 'admin');

--print rawat jalan
INSERT INTO im_functions VALUES
(2368, 'print antrian', '/checkupdetail/printNoAntrian_checkupdetail.action', 1481, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(2368, 32, 'Y', now(), now(), 'admin', 'admin');

--VAKSIN ADALAH CAIRAN YANG CAIR
ALTER TABLE im_simrs_header_tindakan
ADD COLUMN flag_vaksin VARCHAR(1);

--Laporan
INSERT INTO im_functions VALUES
(6900, 'Laporan', '/laporanops/initForm_laporanops.action', 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 6900),
(6901, 'Init Laporan', '/laporanops/initForm_laporanops.action', 6900, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6902, 'Search', '/laporanops/search_laporanops.action', 6900, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6900, 32, 'Y', now(), now(), 'admin', 'admin'),
(6901, 32, 'Y', now(), now(), 'admin', 'admin'),
(6902, 32, 'Y', now(), now(), 'admin', 'admin');

CREATE TABLE im_simrs_laporan_ops(
  id_laporan_ops VARCHAR(100) NOT NULL PRIMARY KEY,
  nama_laporan VARCHAR(500),
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  created_who character varying(100),
  last_update_who character varying(100)
)

--UPDATE LICENSE HABIS ASAR SEKITAR 16:15 WAKTU SEKITAR SINI
--MOHON DI HAPUS MENDING SAYA UPDATE TABLE AJA BIAT TAK BANYAK TABLE ;-)
DROP TABLE im_version_zebra;

--CREATE NEW
CREATE TABLE public.im_version
(
  id_version character varying(20) NOT NULL,
  version_name character varying(20),
  tipe character varying(20),
  os character varying(20),
  description text,
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  created_who character varying(50),
  last_update_who character varying(50),
  CONSTRAINT im_version_pkey PRIMARY KEY (id_version)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.im_version
  OWNER TO postgres;

--23-02-2021 seloso isuk 10:57
INSERT INTO im_simrs_jenis_periksa_pasien VALUES
('bpjs_rekanan','BPJS Rekanan','Y','C',now(),'migrasi',now(),'migrasi',null);

--update function sore hari
UPDATE im_functions
SET func_name = 'Verifikasi BPJS'
WHERE func_name = 'Verifikasi BPJS / PTPN';

--insert function new 24-02-2021 waktu setempat
INSERT INTO im_functions VALUES
(6903, 'Verifikasi Rekanan', null, 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 6903),
(6904, 'Rawat Jalan', '/verifrekananrj/initVerif_verifrekananrj.action', 6903, 2, now(), 'admin', now(), 'admin', 'Y','C', 6904),
(6905, 'init', '/verifrekananrj/initVerif_verifrekananrj.action', 6904, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6906, 'search', '/verifrekananrj/searchVerifRekanan_verifrekananrj.action', 6904, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6907, 'Rawat Inap', '/verifrekananri/initVerif_verifrekananri.action', 6903, 2, now(), 'admin', now(), 'admin', 'Y','C', 6907),
(6908, 'init', '/verifrekananri/initVerif_verifrekananri.action', 6907, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6909, 'search', '/verifrekananri/searchVerifRekanan_verifrekananri.action', 6907, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6903, 38, 'Y', now(), now(), 'admin', 'admin'),
(6904, 38, 'Y', now(), now(), 'admin', 'admin'),
(6905, 38, 'Y', now(), now(), 'admin', 'admin'),
(6906, 38, 'Y', now(), now(), 'admin', 'admin'),
(6907, 38, 'Y', now(), now(), 'admin', 'admin'),
(6908, 38, 'Y', now(), now(), 'admin', 'admin'),
(6909, 38, 'Y', now(), now(), 'admin', 'admin');

--15.52
ALTER TABLE im_simrs_header_tindakan
ADD COLUMN kategori VARCHAR(100);

--malam sabtu 26.02.2021
SELECT * FROM im_functions
WHERE func_id = 2206;

UPDATE im_functions
SET flag = 'N'
WHERE func_id = 2206;

--REVIEW MASTER OPS 27.02.2020 sabtu menjelang weekend
SELECT * FROM im_functions
WHERE func_id = '2087';

--CEK DULU SEBELUM UPDATE,
--APAKAH YANG TAMPIL ADALAH "Display Tag Kelas Ruangan"
--JIKA IYA LANJUTKAN EXECUTE DI BAWAH
UPDATE im_functions
SET url = '/kelasruangan/paging_displaytag_kelasruangan.action'
WHERE func_id = '2087';


--BULAN MARET
--SENIN, MARI ASAR 01.02.2021
ALTER TABLE mt_simrs_transaksi_obat_detail
ADD COLUMN nomor_produksi VARCHAR(100);

ALTER TABLE im_simrs_obat
ADD COLUMN nomor_produksi VARCHAR(100);

--05.03.2021
--Perapian Menu Master OPS
INSERT INTO im_functions VALUES
(7001, 'Pelayanan', '/#', 6000, 3, now(), 'admin', now(), 'admin', 'Y','C', 7001),
(7002, 'Tindakan', '/#', 6000, 3, now(), 'admin', now(), 'admin', 'Y','C', 7002),
(7003, 'Lab & Radiologi', '/#', 6000, 3, now(), 'admin', now(), 'admin', 'Y','C', 7003),
(7004, 'Ruangan', '/#', 6000, 3, now(), 'admin', now(), 'admin', 'Y','C', 7004),
(7005, 'Paket / Promo', '/#', 6000, 3, now(), 'admin', now(), 'admin', 'Y','C', 7005),
(7006, 'Rekanan', '/#', 6000, 3, now(), 'admin', now(), 'admin', 'Y','C', 7006);

INSERT INTO im_func_roles VALUES
(7001, 32, 'Y', now(), now(), 'admin', 'admin'),
(7002, 32, 'Y', now(), now(), 'admin', 'admin'),
(7003, 32, 'Y', now(), now(), 'admin', 'admin'),
(7004, 32, 'Y', now(), now(), 'admin', 'admin'),
(7005, 32, 'Y', now(), now(), 'admin', 'admin'),
(7006, 32, 'Y', now(), now(), 'admin', 'admin');

--Pelayanan
UPDATE im_functions
SET parent = 7001,
func_level = 4
WHERE func_id IN (2365, 2064);

UPDATE im_functions
SET func_name = 'Detail Pelayanan'
WHERE func_id = 2064;

UPDATE im_functions
SET func_id = 5101
WHERE func_id = 2064;

UPDATE im_func_roles
SET func_id = 5101
WHERE func_id = 2064;

UPDATE im_functions
SET parent = 5101
WHERE parent = 2064;

--Tindakan
UPDATE im_functions
SET parent = 7002,
func_level = 4
WHERE func_id IN (2114, 2341);

UPDATE im_functions
SET func_name = 'Header Tindakan'
WHERE func_id = 2341;

UPDATE im_functions
SET func_name = 'Detail Tindakan'
WHERE func_id = 2114;

UPDATE im_functions
SET func_id = 5102
WHERE func_id = 2114;

UPDATE im_func_roles
SET func_id = 5102
WHERE func_id = 2114;

UPDATE im_functions
SET parent = 5102
WHERE parent = 2114;

--Lab & Radiologi
UPDATE im_functions
SET parent = 7003,
func_level = 4
WHERE func_id IN (2137, 2157, 2344);

UPDATE im_functions
SET flag = 'N'
WHERE func_id = 2137;

UPDATE im_functions
SET func_name = 'Header Tindakan'
WHERE func_id = 2344;

UPDATE im_functions
SET func_name = 'Detail Tindakan'
WHERE func_id = 2157;

UPDATE im_functions
SET func_id = 5103
WHERE func_id = 2157;

UPDATE im_func_roles
SET func_id = 5103
WHERE func_id = 2157;

UPDATE im_functions
SET parent = 5103
WHERE parent = 2157;

--Ruangan
UPDATE im_functions
SET parent = 7004,
func_level = 4
WHERE func_id IN (2084, 2104, 2347);

UPDATE im_functions
SET func_name = 'Kamar Ruangan'
WHERE func_id = 2104;

UPDATE im_functions
SET func_name = 'TT Ruangan'
WHERE func_id = 2347;

--Paket / Promo
UPDATE im_functions
SET parent = 7005,
func_level = 4
WHERE func_id IN (1998, 2006);

UPDATE im_functions
SET func_name = 'Pendaftaran MCU'
WHERE func_id = 2006;

--Rekanan
UPDATE im_functions
SET parent = 7006,
func_level = 4
WHERE func_id IN (4013, 4023);

UPDATE im_functions
SET func_name = 'Header Rekanan'
WHERE func_id = 4023;

UPDATE im_functions
SET func_id = 5100
WHERE func_id = 4013;

UPDATE im_func_roles
SET func_id = 5100
WHERE func_id = 4013;

UPDATE im_functions
SET parent = 5100
WHERE parent = 4013;

--Asuransi
UPDATE im_functions
SET func_id = 7007
WHERE func_id = 2074;

UPDATE im_func_roles
SET func_id = 7007
WHERE func_id = 2074;

UPDATE im_functions
SET parent = 7007
WHERE parent = 2074;

--GIZI, malam senin 07,03,2021. habis pulang dari sumenep
ALTER TABLE it_simrs_order_gizi
ADD COLUMN id_detail_checkup VARCHAR(50);

--RABU, 10.03.2021
CREATE TABLE it_simrs_upload_hasil_pemeriksaan(
id_upload_hasil_pemeriksaan VARCHAR(30) PRIMARY KEY NOT NULL,
id_periksa_lab VARCHAR(30),
url_img VARCHAR(100),
tipe VARCHAR(50),
action character varying(1),
flag character(1),
last_update timestamp without time zone,
created_date timestamp without time zone,
created_who VARCHAR(100),
last_update_who VARCHAR(100)
);

CREATE SEQUENCE seq_upload_hasil_pemeriksaan;

ALTER TABLE it_simrs_periksa_lab
RENAME COLUMN ttd_dokter TO ttd_validator;

ALTER TABLE it_simrs_periksa_lab
DROP ttd_pengirim,
DROP id_dokter,
DROP id_pemeriksa;

ALTER TABLE it_simrs_periksa_lab
ADD COLUMN id_validator character varying(50)
ADD COLUMN nama_validator character varying(100),
ADD COLUMN id_petugas character varying(50),
ADD COLUMN nama_petugas character varying(100),
ADD COLUMN is_periksa_luar character varying(50),
ADD COLUMN nama_lab_luar character varying(50),
ADD COLUMN tarif_lab_luar numeric;

--MAPPING GIZI ASESMENT
INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000247','RMM00000014','gizi','1','Y','C','migrasi',now(),now(),'migrasi');

ALTER TABLE it_simrs_periksa_lab ADD COLUMN id_validator VARCHAR(50);
ALTER TABLE it_simrs_periksa_lab ADD COLUMN nama_validator character varying(100);
ALTER TABLE it_simrs_periksa_lab ADD COLUMN id_petugas character varying(100);
ALTER TABLE it_simrs_periksa_lab ADD COLUMN nama_petugas character varying(100);
ALTER TABLE it_simrs_periksa_lab ADD COLUMN tarif_lab_luar numeric;

--UPDATE UNTUK RM TERBRU YA TOLONG DI EXECUTE
UPDATE im_simrs_rekam_medis_pasien
SET parameter = 'ringkasan_pulang'
WHERE id_rekam_medis_pasien = 'RMM00000042';

CREATE TABLE it_simrs_asesmen_gizi(
id_asesmen_gizi character varying(50) NOT NULL PRIMARY KEY,
no_checkup character varying(30),
id_detail_checkup character varying(30),
parameter text,
jawaban text,
keterangan character varying(100),
jenis character varying(100),
ttd_pasien character varying(100),
ttd_dokter character varying(100),
nama_pasien character varying(100),
nama_dokter character varying(100),
sip_dokter character varying(100),
flag character varying(1),
action character varying(1),
created_who character varying(100),
created_date timestamp without time zone,
last_update timestamp without time zone,
last_update_who character varying(100)
);

CREATE SEQUENCE seq_asesmen_gizi;

CREATE TABLE it_simrs_asesmen_asuhan_gizi(
id_asuhan_gizi character varying(50) NOT NULL PRIMARY KEY,
no_checkup character varying(30),
id_detail_checkup character varying(30),
asesmen text,
diagnosa text,
intervensi text,
rencana text,
edukasi text,
ttd_pasien character varying(100),
ttd_dokter character varying(100),
nama_pasien character varying(100),
nama_dokter character varying(100),
sip_dokter character varying(100),
flag character varying(1),
action character varying(1),
created_who character varying(100),
created_date timestamp without time zone,
last_update timestamp without time zone,
last_update_who character varying(100)
);

CREATE SEQUENCE seq_asesmen_asuhan_gizi;

CREATE TABLE it_simrs_asesmen_monitoring_gizi(
id_monitoring_gizi character varying(50) NOT NULL PRIMARY KEY,
no_checkup character varying(30),
id_detail_checkup character varying(30),
tanggal character varying(100),
berat_badan character varying(100),
status_gizi character varying(100),
intake character varying(100),
fisik character varying(100),
biokimia character varying(100),
intervensi character varying(100),
lain_lain character varying(100),
ttd_pasien character varying(100),
ttd_dokter character varying(100),
nama_pasien character varying(100),
nama_dokter character varying(100),
sip_dokter character varying(100),
flag character varying(1),
action character varying(1),
created_who character varying(100),
created_date timestamp without time zone,
last_update timestamp without time zone,
last_update_who character varying(100)
);

CREATE SEQUENCE seq_asesmen_monitoring_gizi;

--Tindakan Header
ALTER TABLE im_simrs_header_tindakan
ADD COLUMN flag_konsul_gizi VARCHAR(1);

--Konsultasi Gizi
CREATE TABLE it_simrs_konsultasi_gizi(
id_konsultasi_gizi character varying(50) NOT NULL PRIMARY KEY,
no_checkup character varying(30),
id_detail_checkup character varying(30),
status character varying(100),
is_read character varying(1),
flag character varying(1),
action character varying(1),
created_who character varying(100),
created_date timestamp without time zone,
last_update timestamp without time zone,
last_update_who character varying(100)
);

CREATE SEQUENCE seq_konsultasi_gizi;

--KAMIS FUNCTION FRO KONSULTASI GIZI
INSERT INTO im_functions VALUES
(6910, 'Konsultasi Gizi', '/konsultasigizi/initForm_konsultasigizi.action', 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 6910),
(6911, 'init', '/konsultasigizi/initForm_konsultasigizi.action', 6910, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6912, 'search', '/konsultasigizi/search_konsultasigizi.action', 6910, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6910, 40, 'Y', now(), now(), 'admin', 'admin'),
(6911, 40, 'Y', now(), now(), 'admin', 'admin'),
(6912, 40, 'Y', now(), now(), 'admin', 'admin');

--JUMAT
CREATE TABLE im_simrs_pendamping_gizi(
id_pendamping_gizi character varying(50) NOT NULL PRIMARY KEY,
nama character varying(100),
tipe character varying(30),
branch_id character varying(30),
flag character varying(1),
action character varying(1),
created_who character varying(100),
created_date timestamp without time zone,
last_update timestamp without time zone,
last_update_who character varying(100)
);

INSERT INTO im_simrs_pendamping_gizi VALUES
('ISP00000001', 'Snack VIP', 'makanan', 'RS01', 'Y', 'C', 'migrasi', now(), now(), 'migrasi'),
('ISP00000002', 'Snack Pasien DM', 'makanan', 'RS01', 'Y', 'C', 'migrasi', now(), now(), 'migrasi'),
('ISP00000003', 'Snack Psien Isolasi', 'makanan', 'RS01', 'Y', 'C', 'migrasi', now(), now(), 'migrasi'),
('ISP00000004', 'Makanan Pendamping pasien', 'makanan', 'RS01', 'Y', 'C', 'migrasi', now(), now(), 'migrasi'),
('ISP00000005', 'Minuman suplemen Madu', 'minuman', 'RS01', 'Y', 'C', 'migrasi', now(), now(), 'migrasi');

CREATE TABLE it_simrs_pendamping_gizi(
id_pendamping_gizi character varying(50) NOT NULL PRIMARY KEY,
id_order_gizi character varying(50),
nama character varying(100),
tipe character varying(30),
tarif numeric,
flag character varying(1),
action character varying(1),
created_who character varying(100),
created_date timestamp without time zone,
last_update timestamp without time zone,
last_update_who character varying(100)
);

CREATE SEQUENCE seq_im_pendampinng_gizi;
CREATE SEQUENCE seq_it_pendampinng_gizi;

INSERT INTO im_simrs_rekam_medis_pasien VALUES
('RMM00000106','GIZ 001','Skrining Gizi','form','skrining_gizi','skrining_gizi','showModalGizi','Y','C','migrasi',now(),now(),'migrasi','1'),
('RMM00000107','GIZ 002','Pengajian Gizi','form','pengkajian_gizi','pengkajian_gizi','showModalGizi','Y','C','migrasi',now(),now(),'migrasi','1'),
('RMM00000108','GIZ 003','Pengajian Gizi Ulang','form','pengkajian_gizi','pengkajian_gizi','showModalGizi','Y','C','migrasi',now(),now(),'migrasi','1'),
('RMM00000109','GIZ 004','Asuhan Gizi','form','asuhan_gizi','asuhan_gizi','showModalGizi','Y','C','migrasi',now(),now(),'migrasi','1'),
('RMM00000110','GIZ 005','Monitoring Evaluasi Gizi','form','evaluasi_gizi','evaluasi_gizi','showModalGizi','Y','C','migrasi',now(),now(),'migrasi','1'),
('RMM00000111','GIZ 001','Lembar Aturan Makanan dari Luar','surat','SP19','SP19','printPernyataan','Y','C','migrasi',now(),now(),'migrasi','1'),
('RMM00000112','GIZ 001','Surat Keterangan Buta Warna','surat','SP20','SP20','printPernyataan','Y','C','migrasi',now(),now(),'migrasi','1');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000248','RMM00000106','gizi','1','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000249','RMM00000107','gizi','2','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000250','RMM00000108','gizi','3','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000251','RMM00000109','gizi','4','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000252','RMM00000110','gizi','5','Y','C','migrasi',now(),now(),'migrasi');

ALTER TABLE it_simrs_asesmen_gizi
ADD COLUMN skor INTEGER;

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000253','RMM00000046','pindah_ok','1','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000254','RMM00000089','pindah_ok','2','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000255','RMM00000089','pindah_ri','1','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000256','RMM00000025','pindah_ri','2','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000257','RMM00000026','pindah_ri','3','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000258','RMM00000027','pindah_ri','4','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000259','RMM00000028','pindah_ri','5','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000260','RMM00000095','pindah_ri','6','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000267','RMM00000025','pindah_ok','3','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000268','RMM00000026','pindah_ok','4','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000269','RMM00000027','pindah_ok','5','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000270','RMM00000028','pindah_ok','6','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000271','RMM00000095','pindah_ok','7','Y','C','migrasi',now(),now(),'migrasi');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000261','RMM00000111','rawat_jalan','20','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000262','RMM00000112','rawat_jalan','21','Y','C','migrasi',now(),now(),'migrasi');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000263','RMM00000059','igd','3','Y','C','migrasi',now(),now(),'migrasi');

INSERT INTO im_simrs_rekam_medis_pasien VALUES
('RMM00000113','RI 001','Persetujuan Tindakan Medis','form','tindakan_ri','tindakan_ina','showModalAsesmenRawatInap','Y','C','migrasi',now(),now(),'migrasi','1'),
('RMM00000114','ICU 002','Persetujuan Tindakan Medis','form','tindakan_icu','tindakan_icu','showModalICU','Y','C','migrasi',now(),now(),'migrasi','1'),
('RMM00000115','RB 003','Persetujuan Tindakan Medis','form','tindakan_rb','tindakan_rb','showModalRB','Y','C','migrasi',now(),now(),'migrasi','1');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000264','RMM00000113','rawat_inap','3','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000265','RMM00000114','rawat_intensif','3','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000266','RMM00000115','ruang_bersalin','3','Y','C','migrasi',now(),now(),'migrasi');

ALTER TABLE it_simrs_hemodinamika
ALTER COLUMN tensi TYPE VARCHAR(10);

ALTER TABLE it_simrs_asesmen_keperawatan_rawat_inap
ADD COLUMN no_checkup VARCHAR(50);

UPDATE im_simrs_rekam_medis_pelayanan
SET flag = 'N'
WHERE id_rekam_medis_pasien = 'RMM00000089'
AND tipe_pelayanan = 'rawat_inap';

UPDATE im_simrs_rekam_medis_pelayanan
SET urutan = '45'
WHERE id_rekam_medis_pasien = 'RMM00000105'
AND tipe_pelayanan = 'rawat_inap';

ALTER TABLE it_simrs_asesmen_operasi
ADD COLUMN no_checkup VARCHAR(100);

--SABTU MENJELANG MALAM MINGGU
ALTER TABLE it_simrs_periksa_lab
ADD COLUMN ttd_pengirim VARCHAR(100);

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000272','RMM00000033','gizi','6','Y','C','migrasi',now(),now(),'migrasi');

ALTER TABLE it_simrs_pendamping_gizi
RENAME COLUMN id_order_gizi TO id_detail_checkup;

ALTER TABLE it_simrs_pendamping_gizi
ADD COLUMN status VARCHAR(1);

ALTER TABLE it_simrs_periksa_lab_detail
ALTER COLUMN hasil TYPE text;

ALTER TABLE it_simrs_upload_hasil_pemeriksaan
ADD COLUMN id_periksa_lab_detail VARCHAR(50),
ADD COLUMN nama_detail_periksa VARCHAR(100);

ALTER TABLE im_simrs_pasien
ADD COLUMN flag_meninggal VARCHAR(1),
ADD COLUMN tanggal_meninggal TIMESTAMP WITHOUT TIME ZONE;

ALTER TABLE im_simrs_keterangan_keluar
ADD COLUMN kategori VARCHAR(100);

UPDATE im_simrs_keterangan_keluar
SET kategori = 'meninggal'
WHERE id_keterangan = '04';

--SENNINN
DROP TABLE it_simrs_pendamping_gizi;

CREATE TABLE public.it_simrs_header_pendamping_makanan
(
  id_header_pendamping_makanan character varying(50) NOT NULL,
  id_detail_checkup character varying(50),
  id_ruangan character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT id_header_pendamping_makanan_pkey PRIMARY KEY (id_header_pendamping_makanan)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_header_pendamping_makanan
  OWNER TO postgres;

CREATE SEQUENCE seq_header_pendamping_makanan;

CREATE TABLE public.it_simrs_detail_pendamping_makanan
(
  id_detail_pendamping_makanan character varying(50) NOT NULL,
  id_header_pendamping_makanan character varying(50),
  nama character varying(100),
  qty integer,
  tarif numeric,
  total_tarif numeric,
  keterangan character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT id_detail_pendamping_makanan_pkey PRIMARY KEY (id_detail_pendamping_makanan)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_detail_pendamping_makanan
  OWNER TO postgres;

CREATE SEQUENCE seq_detail_pendamping_makanan;

ALTER TABLE it_simrs_header_pendamping_makanan
ADD COLUMN status VARCHAR(1);

--Function Makanan Pendamping
INSERT INTO im_functions VALUES
(6913, 'Makanan Pendamping', '/pendampingmakanan/initForm_pendampingmakanan.action', 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 6913),
(6914, 'init', '/pendampingmakanan/initForm_pendampingmakanan.action', 6913, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6915, 'search', '/pendampingmakanan/search_pendampingmakanan.action', 6913, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6916, 'print', '/pendampingmakanan/printBarcodeMakanan_pendampingmakanan.action', 6913, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6913, 40, 'Y', now(), now(), 'admin', 'admin'),
(6914, 40, 'Y', now(), now(), 'admin', 'admin'),
(6915, 40, 'Y', now(), now(), 'admin', 'admin'),
(6916, 40, 'Y', now(), now(), 'admin', 'admin');

---------- SUDAH DI PROD -----------
====================================

            /\   /\   /\
           |__| |__| |__|
            ||   ||   ||
            ||   ||   ||
            ||   ||   ||                    ---------
----------- ||   ||   || -----------        |  ------
---------- SUDAH DI PROD -----------        | |
----------- +++++++++++ ------------        |  ------
                                            ------  |
                                                  | |
                                            ------  |
                                            ---------

--SUDAH DI PROD
UPDATE im_func_roles
SET flag = 'N'
WHERE func_id = 2
AND role_id = 41;

INSERT INTO im_functions VALUES
(6900, 'Laporan', '/laporanops/initForm_laporanops.action', 0, 1, now(), 'admin', now(), 'admin', 'Y','C', 6900),
(6901, 'Init Laporan', '/laporanops/initForm_laporanops.action', 6900, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6902, 'Search', '/laporanops/search_laporanops.action', 6900, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6900, 32, 'Y', now(), now(), 'admin', 'admin'),
(6901, 32, 'Y', now(), now(), 'admin', 'admin'),
(6902, 32, 'Y', now(), now(), 'admin', 'admin');

CREATE TABLE im_simrs_laporan_ops(
  id_laporan_ops VARCHAR(100) NOT NULL PRIMARY KEY,
  nama_laporan VARCHAR(500),
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  created_who character varying(100),
  last_update_who character varying(100)
);

INSERT INTO im_simrs_laporan_ops VALUES
('kpi','KPI Operasional','Y','C',now(),now(),'admin','admin'),
('formularium','Formularium','Y','C',now(),now(),'admin','admin'),
('rawat_jalan','Rawat Jalan','Y','C',now(),now(),'admin','admin'),
('rawat_inap','Rawat Inap','Y','C',now(),now(),'admin','admin'),
('penunjang_medis','Penunjang Medis','Y','C',now(),now(),'admin','admin'),
('bor','Bed Occupation Rate (BOR)','Y','C',now(),now(),'admin','admin'),
('diagnosa','Diagnosis Terbanyak','Y','C',now(),now(),'admin','admin'),
('kematian','Indikator Kematian','Y','C',now(),now(),'admin','admin'),
('kegiatan','Form Kegiatan','Y','C',now(),now(),'admin','admin'),
('statistik','Statistik Rumah Sakit','Y','C',now(),now(),'admin','admin'),
('mutu','Indikator Mutu Pelayanan Kriyandas','Y','C',now(),now(),'admin','admin'),
('kapitasi','Kapitasi','Y','C',now(),now(),'admin','admin'),
('unggulan','Layanan Unggulan','Y','C',now(),now(),'admin','admin');

--create header for lab dan radiologi
CREATE TABLE it_simrs_header_pemeriksaan(
  id_header_pemeriksaan VARCHAR(100) NOT NULL PRIMARY KEY,
  id_detail_checkup VARCHAR(50),
  id_kategori_lab VARCHAR(50),
  id_dokter_pengirim VARCHAR(50),
  nama_dokter_pengirim VARCHAR(50),
  ttd_dokter_pengirim VARCHAR(100),
  id_petugas VARCHAR(50),
  nama_petugas VARCHAR(100),
  ttd_petugas VARCHAR(100),
  id_validator VARCHAR(50),
  nama_validator VARCHAR(100),
  ttd_validator VARCHAR(100),
  status_periksa VARCHAR(1),
  catatan TEXT,
  tarif_lab_luar NUMERIC,
  approve_flag VARCHAR(1),
  is_just_lab VARCHAR(1),
  is_pending VARCHAR(1),
  is_periksa_luar VARCHAR(1),
  is_read VARCHAR(1),
  tanggal_masuk_periksa TIMESTAMP WITHOUT TIME ZONE,
  tanggal_selesai_periksa TIMESTAMP WITHOUT TIME ZONE,
  flag VARCHAR(1),
  action VARCHAR(1),
  created_who VARCHAR(100),
  created_date TIMESTAMP WITHOUT TIME ZONE,
  last_update_who VARCHAR(100),
  last_update TIMESTAMP WITHOUT TIME ZONE
);

CREATE SEQUENCE seq_header_pemeriksaan;

DROP TABLE it_simrs_periksa_lab;
CREATE TABLE public.it_simrs_periksa_lab
(
  id_periksa_lab VARCHAR(50) NOT NULL PRIMARY KEY,
  id_header_pemeriksaan VARCHAR(50),
  id_pemeriksaan VARCHAR(30),
  nama_pemeriksaan VARCHAR(30),
  flag VARCHAR(1),
  action VARCHAR(1),
  created_who VARCHAR(100),
  created_date TIMESTAMP WITHOUT TIME ZONE,
  last_update_who VARCHAR(100),
  last_update TIMESTAMP WITHOUT TIME ZONE
);

ALTER TABLE it_simrs_upload_hasil_pemeriksaan
RENAME id_periksa_lab TO id_header_pemeriksaan;

ALTER TABLE it_simrs_riwayat_tindakan
ALTER COLUMN nama_tindakan TYPE TEXT;

INSERT INTO im_functions VALUES
(6917, 'print', '/ordergizi/printListGizi_ordergizi.action', 1716, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6917, 40, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE im_simrs_lab
ADD COLUMN is_catatan VARCHAR(1),

UPDATE im_simrs_lab
SET is_catatan = 'N';

ALTER TABLE im_simrs_lab DISABLE TRIGGER ALL;
INSERT INTO im_simrs_lab VALUES
('LAB00000028','SWAB','','','','Y','C',now(),'migrasi',now(),'migrasi','','Y');
ALTER TABLE im_simrs_lab ENABLE TRIGGER ALL;

INSERT INTO im_simrs_parameter_pemeriksaan VALUES
('PRP00000284','KAL00000002','ANTI GEN','','','',140000,'Y','C',now(),'migrasi',now(),'migrasi');

INSERT INTO im_simrs_lab_detail VALUES
('LDB00000284','LAB00000028','Y',now(),'migrasi',now(),'migrasi','C',800000,'PRP00000284','02');


---------- SUDAH DI PROD -----------
====================================

            /\   /\   /\
           |__| |__| |__|
            ||   ||   ||
            ||   ||   ||
            ||   ||   ||                    ---------   |
----------- ||   ||   || -----------        |  ------   |  |
---------- SUDAH DI PROD -----------        | |         |  |
----------- +++++++++++ ------------        |  ------   |  |
                                            ------  |   |  |
                                                  | |   |  |
                                            ------  |   |   ----------
                                            ---------   |_ _ _ _ _ _ _|

--SENIN, SELASA BESOK PUASA
DROP TABLE it_simrs_order_periksa_lab;

CREATE TABLE public.it_simrs_order_periksa_lab
(
  id_order_periksa character varying(30) NOT NULL,
  id_detail_checkup character varying(30),
  id_pemeriksaan character varying(30),
  nama_pemeriksaan character varying(100),
  id_lab_detail character varying(30),
  nama_detail_pemeriksaan character varying(100),
  id_kategori_lab character varying(30),
  keterangan character varying(100),
  is_pemeriksaan character varying(1),
  flag character varying(1),
  action character varying(1),
  created_date timestamp without time zone,
  created_who character varying(100),
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_order_periksa PRIMARY KEY (id_order_periksa)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_order_periksa_lab
  OWNER TO postgres;

--PERTAMA PUASA 13-04-2021
ALTER TABLE it_simrs_header_pemeriksaan
ADD COLUMN jenis_pasien VARCHAR(100);

--FUNCTION PRINT REPORT AS
INSERT INTO im_functions VALUES
(6918, 'print', '/verifasrj/printVerifikasiTindakan_verifasrj.action', 2335, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6919, 'print', '/verifasri/printVerifikasiTindakan_verifasri.action', 2338, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6918, 38, 'Y', now(), now(), 'admin', 'admin'),
(6919, 38, 'Y', now(), now(), 'admin', 'admin');

--FUNCTION PRINT REPORT REKANAN
INSERT INTO im_functions VALUES
(6920, 'print', '/verifrekananrj/printVerifikasiTindakan_verifrekananrj.action', 6904, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6921, 'print', '/verifrekananri/printVerifikasiTindakan_verifrekananri.action', 6907, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6920, 38, 'Y', now(), now(), 'admin', 'admin'),
(6921, 38, 'Y', now(), now(), 'admin', 'admin');

--SURAT KETERANGAN
INSERT INTO im_functions VALUES
(6922, 'print', '/rawatinap/printSuratKeterangan_rawatinap.action', 1485, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6922, 32, 'Y', now(), now(), 'admin', 'admin');

--SENIN 26-04-2021
INSERT INTO im_functions VALUES
(6923, 'add rawat igd', '/rawatinap/addRawatIgd_rawatinap.action', 1485, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6924, 'save rawat igd', '/rawatinap/saveAddRawatIgd_rawatinap.action', 1485, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6923, 32, 'Y', now(), now(), 'admin', 'admin'),
(6924, 32, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE im_simrs_lab
DROP COLUMN id_operator_lab,
DROP COLUMN id_dokter,
DROP COLUMN id_kategori_lab,
DROP COLUMN branch_id;

ALTER TABLE im_simrs_lab
ADD COLUMN is_paket VARCHAR(1);

UPDATE im_simrs_lab
SET is_paket = 'N';

UPDATE im_simrs_lab
SET is_paket = 'Y'
WHERE id_lab = 'LAB00000015';

CREATE TABLE it_simrs_upload_pendukung_pemeriksaan(
 id_upload VARCHAR(30) NOT NULL PRIMARY KEY,
 id_detail_checkup VARCHAR(50),
 keterangan VARCHAR(100),
 url_img VARCHAR(100),
 flag VARCHAR(1),
 action VARCHAR(1),
 created_who VARCHAR(100),
 created_date TIMESTAMP WITHOUT TIME ZONE,
 last_update_who VARCHAR(100),
 last_update TIMESTAMP WITHOUT TIME ZONE
);

CREATE SEQUENCE seq_upload_pendukung_pemeriksaan;

ALTER TABLE it_simrs_partograf
ADD COLUMN lama_kontraksi VARCHAR(10);

UPDATE im_simrs_rekam_medis_pelayanan
SET urutan = '9'
WHERE id_rekam_medis_pelayanan = 'RMP000000235';

UPDATE im_simrs_rekam_medis_pelayanan
SET urutan = '10'
WHERE id_rekam_medis_pelayanan = 'RMP000000206';

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000273','RMM00000034','ruang_bersalin','9','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000274','RMM00000041','ruang_bersalin','9','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000275','RMM00000040','ruang_bersalin','9','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000276','RMM00000029','ruang_bersalin','9','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000277','RMM00000036','ruang_bersalin','9','Y','C','migrasi', now(), now(),'migrasi');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000278','RMM00000045','ruang_bersalin','9','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000279','RMM00000042','ruang_bersalin','9','Y','C','migrasi', now(), now(),'migrasi');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000280','RMM00000082','tppri','5','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000281','RMM00000081','tppri','6','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000282','RMM00000080','tppri','7','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000283','RMM00000079','tppri','8','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000284','RMM00000078','tppri','9','Y','C','migrasi', now(), now(),'migrasi');

INSERT INTO im_simrs_diet_gizi VALUES
('BEN00000006','Tim Saring Kasar',0,'02','Y','C', now(),'migrasi', now(),'migrasi','N'),
('BEN00000007','Tim Saring Halus',0,'02','Y','C', now(),'migrasi', now(),'migrasi','N'),
('BEN00000008','Makanan Cincang',0,'02','Y','C', now(),'migrasi', now(),'migrasi','N');


--NOTE DI MESS SAMPAI LEBARAN
INSERT INTO im_functions VALUES
(6925, 'print resep pasien', '/reseppoli/printResepPasien_reseppoli.action', 1543, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6925, 36, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE it_simrs_header_detail_checkup
ADD COLUMN indikasi VARCHAR(100);

ALTER TABLE it_simrs_catatan_terintegrasi
ADD COLUMN kesadaran VARCHAR(10),
ADD COLUMN spo2 VARCHAR(10),
ADD COLUMN o2 VARCHAR(10),
ADD COLUMN ews VARCHAR(10);

ALTER TABLE it_simrs_header_checkup
ADD COLUMN catatan_klinis TEXT;

ALTER TABLE it_simrs_catatan_terintegrasi
ADD COLUMN kesimpulan VARCHAR(100),
ADD COLUMN monitoring VARCHAR(100);

ALTER TABLE it_simrs_catatan_terintegrasi
ADD COLUMN data_ews VARCHAR(100);

ALTER TABLE mt_simrs_transaksi_obat_detail
ADD COLUMN frekuensi VARCHAR(100);

-----------------------------------------------------------------------------------------------------------

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000293','RMM00000054','pindah_ri','5','Y','C','migrasi', now(), now(),'migrasi');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000294','RMM00000030','rawat_inap','10','Y','C','migrasi', now(), now(),'migrasi');

ALTER TABLE it_simrs_catatan_terintegrasi
ADD COLUMN nama_pemberi VARCHAR(100),
ADD COLUMN sip_pemberi VARCHAR(100),
ADD COLUMN ttd_pemberi VARCHAR(100),
ADD COLUMN nama_penerima VARCHAR(100),
ADD COLUMN sip_penerima VARCHAR(100),
ADD COLUMN ttd_penerima VARCHAR(100);

ALTER TABLE it_simrs_catatan_terintegrasi
ADD COLUMN tipe VARCHAR(100);


=================================================================================================================
*********************************** N O T E **** P E R B A I K A N **********************************************
=================================================================================================================
1. Perbaikan tindakan (Tambah tindakan bisa lebih dari 1)
2. Penambahan Asesmen Pra Bedah
3. Perbaikan Rencana Asuah Keperawatan Di ICU
4. Perbaikan Signature Bisa melalui device tablet
5. Perbaikan Keseimbangan pada Asesmen ICU
6. Penambahan Notif Lab dan Radiologi di halaman periksa Rawat Jalan, Rawat Igd, dan Rawat Inap
7. Penambahan Label CITO pada pemeriksaan Lab dan Radiologi
8. Perbaikan Resume Medis Rawat Jalan dan IGD
9. Perbaikan Resume Medis Rawat Inap
10. Penambahan Pindah Ke Hemodialisa Di Rawat Inap

/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/
---------------------------------B E L U M - D I P R O D -------------------------------------------------------
/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/

INSERT INTO im_simrs_rekam_medis_pasien VALUES
('RMM00000116','RB 003','Asesmen Pra Bedah','form','pra_bedah','pra_bedah','showModalOperasi','Y','C','migrasi',now(), now(),'migrasi','1');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000295','RMM00000116','kamar_operasi','1','Y','C','migrasi', now(), now(),'migrasi');

UPDATE im_simrs_detail_asuhan_keperawatan
SET diagnosis = 'Data Subyektif'
WHERE diagnosis = 'Data Sublektif';

UPDATE im_simrs_detail_asuhan_keperawatan
SET evaluasi = 'Subyektif'
WHERE evaluasi = 'Subyektif ';

UPDATE im_simrs_detail_asuhan_keperawatan
SET evaluasi = 'Obyektif'
WHERE evaluasi = 'Obyektif ';

CREATE TABLE public.it_simrs_keseimbangan_icu
(
  id_keseimbangan_icu character varying(30) NOT NULL,
  id_detail_checkup character varying(50),
  waktu character varying(100),
  jenis character varying(1000),
  keterangan character varying(1000),
  nilai character varying(100),
  flag character varying(1),
  action character varying(1),
  created_who character varying(100),
  created_date timestamp without time zone,
  last_update timestamp without time zone,
  last_update_who character varying(100),
  CONSTRAINT pk_id_keseimbangan_icu PRIMARY KEY (id_keseimbangan_icu)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.it_simrs_keseimbangan_icu
  OWNER TO postgres;

CREATE SEQUENCE seq_keseimbangan_icu;

ALTER TABLE it_simrs_header_pemeriksaan
ADD COLUMN is_cito VARCHAR(1);

ALTER TABLE it_simrs_header_pemeriksaan
ADD COLUMN is_read_hasil VARCHAR(1);

--FUNCTION
INSERT INTO im_functions VALUES
(6928, 'Hemodialisa', '/hemodialisa/initForm_hemodialisa.action', 2600, 2, now(), 'admin', now(), 'admin', 'Y','C', 6928),
(6929, 'init', '/hemodialisa/initForm_hemodialisa.action', 6928, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6930, 'search', '/hemodialisa/searchHemodialisa_hemodialisa.action', 6928, null, now(), 'admin', now(), 'admin', 'Y','C', null),
(6931, 'add', '/hemodialisa/add_hemodialisa.action', 6928, null, now(), 'admin', now(), 'admin', 'Y','C', null);

INSERT INTO im_func_roles VALUES
(6928, 32, 'Y', now(), now(), 'admin', 'admin'),
(6929, 32, 'Y', now(), now(), 'admin', 'admin'),
(6930, 32, 'Y', now(), now(), 'admin', 'admin'),
(6931, 32, 'Y', now(), now(), 'admin', 'admin');

ALTER TABLE im_simrs_lab
ADD COLUMN is_asesmen VARCHAR(1);

UPDATE im_simrs_lab
SET is_asesmen = 'Y'
WHERE id_lab IN ('LAB00000012','LAB00000010');

/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/
---------------------------------SU DAH - D I P R O D -------------------------------------------------------
------------------------------------- 26 05 2021 ---------------------------------------------------------------
/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000297','RMM00000039','farmasi','1','Y','C','migrasi', now(), now(),'migrasi'),
('RMP000000298','RMM00000040','farmasi','2','Y','C','migrasi', now(), now(),'migrasi');

ALTER TABLE it_simrs_rekonsiliasi_obat
ADD COLUMN keluarga VARCHAR(100),
ADD COLUMN apoteker VARCHAR(100),
ADD COLUMN sip VARCHAR(100);

ALTER TABLE it_simrs_catatan_pemberian_obat
ADD COLUMN jenis VARCHAR(100);

ALTER TABLE it_simrs_catatan_pemberian_obat
ADD COLUMN sip_perawat VARCHAR(100);

UPDATE im_simrs_rekam_medis_pelayanan
SET flag = 'N'
WHERE id_rekam_medis_pelayanan = 'RMP000000247';

/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/
---------------------------------B E L U M - D I P R O D -------------------------------------------------------
------------------------------------- 31 05 2021 ---------------------------------------------------------------
/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/

INSERT INTO im_simrs_rekam_medis_pasien VALUES
('RMM00000117','TP 013','Privasi Pasien','form','privasi','privasi','showModalAsesmenRawatInap','Y','C','migrasi',now(),now(),'migrasi','1');

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000299','RMM00000117','tppri','2','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000300','RMM00000068','tppri','3','Y','C','migrasi',now(),now(),'migrasi');

ALTER TABLE it_simrs_header_checkup
ADD COLUMN spo2 VARCHAR (10);

UPDATE im_simrs_rekam_medis_pasien
SET jumlah_kategori = '1'
WHERE id_rekam_medis_pasien = 'RMM00000089';

INSERT INTO im_simrs_rekam_medis_pelayanan VALUES
('RMP000000301','RMM00000116','pindah_ok','3','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000302','RMM00000044','pindah_ok','4','Y','C','migrasi',now(),now(),'migrasi'),
('RMP000000303','RMM00000045','pindah_ok','5','Y','C','migrasi',now(),now(),'migrasi');

ALTER TABLE it_simrs_header_checkup
ADD COLUMN nyeri VARCHAR(10),
ADD COLUMN resiko_jatuh VARCHAR(50);

/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/
---------------------------------B E L U M - D I P R O D -------------------------------------------------------
------------------------------------- 07 06 2021 ---------------------------------------------------------------
/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/=/=/=/=/=/=/=/=/=/=//=/=/=/=/

ALTER TABLE it_simrs_obat_racik
ADD COLUMN frekuensi TEXT;


