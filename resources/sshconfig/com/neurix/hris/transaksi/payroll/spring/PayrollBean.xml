<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-3.2.xsd">

    <bean id="payrolController" class="com.neurix.hris.mobileapi.PayrolController"
          p:dataSource-ref="dataSource"
    />

    <bean id="viewPayrolController" class="com.neurix.hris.mobileapi.ViewPayrollController"
          p:payrollBoProxy-ref="payrollBoProxy"
    />

    <bean id="payrollAction" class="com.neurix.hris.transaksi.payroll.action.PayrollAction"
          p:payrollBoProxy-ref="payrollBoProxy"
    />

    <bean id="payrollBo" class="com.neurix.hris.transaksi.payroll.bo.impl.PayrollBoImpl"
          p:payrollHeaderDao-ref="payrollHeaderDao"
          p:payrollDao-ref="payrollDao"
          p:branchDao-ref="branchDao"
          p:companyDao-ref="companyDao"
          p:absensiPegawaiDao-ref="absensiPegawaiDao"
          p:biodataDao-ref="biodataDao"
          p:personilPositionDao-ref="personalPositionDao"
          p:payrollSkalaGajiDao-ref="payrollSkalaGajiDao"
          p:payrollSkalaGajiPkwtDao-ref="payrollSkalaGajiPkwtDao"
          p:payrollPphDao-ref="payrollPphDao"
          p:payrollTempDao-ref="payrollTempDao"
          p:payrollPphTempDao-ref="payrollPphTempDao"
          p:mappingPersenGajiDao-ref="mappingPersenGajiDao"
          p:mappingJurnalDao-ref="mappingJurnalDao"
          p:jurnalDao-ref="jurnalDao"
          p:transDao-ref="transDao"
          p:jurnalDetailActivityDao-ref="jurnalDetailActivityDao"
          p:batasTutupPeriodDao-ref="batasTutupPeriodDao"
          p:jurnalDetailDao-ref="jurnalDetailDao"
          p:logTrxDao-ref="logTrxDao"
          p:paymentGatewayInvoiceDao-ref="paymentGatewayInvoiceDao"
    />

    <bean id="payrollBoProxy" class="org.springframework.aop.framework.ProxyFactoryBean"
          p:target-ref="payrollBo">
        <property name="interceptorNames">
            <list>
                <value>transactionPayrollInterceptor</value>
                <value>hibernateInterceptor</value>
            </list>
        </property>
    </bean>

    <bean id="transactionPayrollInterceptor"
          class="org.springframework.transaction.interceptor.TransactionInterceptor"
          p:transactionManager-ref="transactionManager">
        <property name="transactionAttributes">
            <props>
                <prop key="getListAbsensiLembur">readOnly</prop>
                <prop key="refreshAllCalculatePayroll">PROPAGATION_REQUIRED</prop>
                <prop key="editAllCalculatePayroll">PROPAGATION_REQUIRED</prop>
                <prop key="searchCalculatePayroll">readOnly</prop>
                <prop key="viewAllCalculatePayroll">readOnly</prop>
                <prop key="saveInitialCalculatePayroll">PROPAGATION_REQUIRED</prop>
                <prop key="saveApprovalSdmPayroll">PROPAGATION_REQUIRED</prop>
                <prop key="saveEditItemCalculatePayroll">PROPAGATION_REQUIRED</prop>
                <prop key="savePostingAllCalculatePayroll">PROPAGATION_REQUIRED</prop>
            </props>
        </property>
    </bean>

    <bean id="payrollHeaderDao" class="com.neurix.hris.transaksi.payroll.dao.PayrollHeaderDao"
          p:sessionFactory-ref="sessionFactory" />
    <bean id="payrollTempDao" class="com.neurix.hris.transaksi.payroll.dao.PayrollTempDao"
          p:sessionFactory-ref="sessionFactory" />
    <bean id="payrollPphTempDao" class="com.neurix.hris.transaksi.payroll.dao.PayrollPphTempDao"
          p:sessionFactory-ref="sessionFactory" />
    <bean id="payrollDao" class="com.neurix.hris.transaksi.payroll.dao.PayrollDao"
          p:sessionFactory-ref="sessionFactory" />
    <bean id="branchDao" class="com.neurix.authorization.company.dao.BranchDao"
          p:sessionFactory-ref="sessionFactory" />
    <bean id="companyDao" class="com.neurix.authorization.company.dao.CompanyDao"
          p:sessionFactory-ref="sessionFactory" />
    <bean id="absensiPegawaiDao" class="com.neurix.hris.transaksi.absensi.dao.AbsensiPegawaiDao"
          p:sessionFactory-ref="sessionFactory" />
    <bean id="payrollPphDao" class="com.neurix.hris.transaksi.payroll.dao.PayrollPphDao"
          p:sessionFactory-ref="sessionFactory" />
</beans>